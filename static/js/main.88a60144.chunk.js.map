{"version":3,"sources":["panels/Home.js","panels/Favorites.js","panels/Main.js","config.js","helpers/requestMethod.js","App.js","index.js"],"names":["Home","name","photo","year","idItem","storyFavorites","shareIcon1","id","onClick","fill","top","className","description","before","type","src","size","asideContent","Favorites","share","Main","dataStorage","activeTab","go","tabHome","tabFavorites","maxDataLength","count","lastItem","addGroup","pay","getPlatform","story","targetList1","onChangeSlider","startYear","endYear","checkBoxOnClick","isAnyYear","handleChange","genre","tabAddFilms","searchError","networkStatus","ref_sourceName","refName","updateTheme","updateConnection","fetchedUser","snackbar","openBase","openErrGenre","renderFavorites","promoBannerProps","filter","Boolean","map","item","rating","key","noShadow","vertical","selected","align","length","step","min","max","value","onChange","bottom","placeholder","level","stretched","href","target","config","debug","requestMethod","method","App","useState","activePanel","setActivePanel","setUser","setActiveTab","setDataStorage","setGetPlatform","popout","setPopout","setPaymentStatus","setStartYear","setEndYear","setIsAnyYear","setGenre","setNetworkStatus","setSnackbar","navigator","window","onLine","setLastItem","getCurrentFilms","openAlertPay","text","backgroundColor","duration","layout","onClose","style","width","height","a","async","currentFilmsIDs","JSON","stringify","_","axios","get","film","data","status","setId","message","bridge","sendPromise","app_id","action","params","amount","group_id","then","res","result","response","console","log","catch","error","randomFirstId","push","stringId","useEffect","subscribe","detail","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","user","fetchData","platform","keys","newStr","replace","psj","parse","e","currentTarget","dataset","to","qiwiPay","QiwiCheckout","createInvoice","publicKey","phone","alert","preventDefault","targetId","findTargetIdPhoto","find","background_type","url","attachment","send","autoclose","title","domain","ctaText","advertisingLabel","iconLink","ageRestriction","connect","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.88a60144.chunk.js","sourcesContent":["import React from 'react';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport Icon24ShareOutline from '@vkontakte/icons/dist/24/share_outline';\n// import styles from \"./App.module.sass\";\nimport styles from \"../styles/custom-styles.sass\";\nimport Fake from 'react-reveal';\n\nconst Home = ({name, photo, year, idItem, storyFavorites }) => {\n\n    const shareIcon1 =\n    <Div id={idItem} onClick={storyFavorites}>\n        <Icon24ShareOutline  fill=\"#3e2d8f\"/>\n    </Div>;\n\n    return (\n        <Fake top>\n            <Div className='cardHome bg-color'>\n                <Cell\n                    className='myItem'\n                    id={idItem}\n                    description={year}\n                    before={<Avatar\n                        type=\"image\"\n                        src={photo}\n                        size={100}\n                    />}\n                    asideContent={year === \"\" ? \"\" : shareIcon1}\n                >\n                    {name}\n                </Cell>\n            </Div>\n        </Fake>\n    )\n};\n\n\nexport default Home;\n\n\n\n\n","import React from 'react';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport Icon24ShareOutline from '@vkontakte/icons/dist/24/share_outline';\r\nimport Icon24Advertising from '@vkontakte/icons/dist/24/advertising';\r\n// import styles from \"./App.module.sass\";\r\nimport styles from \"../styles/custom-styles.sass\";\r\nimport Fake from 'react-reveal';\r\n\r\nconst Favorites = ({name, photo, year, idItem, storyFavorites, share}) => {\r\n\r\n    const shareIcon1 =\r\n        <Div id={idItem} onClick={storyFavorites}>\r\n            <Icon24ShareOutline  fill=\"#3e2d8f\"/>\r\n        </Div>;\r\n    // const shareIcon2 =\r\n    //     <Div id={idItem} onClick={share}>\r\n    //         <Icon24Advertising  fill=\"var(--accent)\"/>\r\n    //     </Div>;\r\n\r\n    return (\r\n        <Fake top>\r\n            <Div className='card bg-color'>\r\n                <Cell\r\n                    className='myItem'\r\n                    id={idItem}\r\n                    description={year}\r\n                    before={<Avatar\r\n                        type=\"image\"\r\n                        src={photo}\r\n                        size={100}\r\n                    />}\r\n                    asideContent={shareIcon1}\r\n                    // indicator={shareIcon2}\r\n                >\r\n                    {name}\r\n                </Cell>\r\n            </Div>\r\n        </Fake>\r\n    )\r\n};\r\n\r\n\r\nexport default Favorites;\r\n\r\n\r\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport List from '@vkontakte/vkui/dist/components/List/List';\nimport Tabs from '@vkontakte/vkui/dist/components/Tabs/Tabs';\nimport TabsItem from '@vkontakte/vkui/dist/components/TabsItem/TabsItem';\nimport HorizontalScroll from '@vkontakte/vkui/dist/components/HorizontalScroll/HorizontalScroll';\nimport RangeSlider from \"@vkontakte/vkui/dist/components/RangeSlider/RangeSlider\";\nimport Link from \"@vkontakte/vkui/dist/components/Link/Link\";\nimport Snackbar from '@vkontakte/vkui/dist/components/Snackbar/Snackbar';\nimport Home from './Home';\nimport Favorites from './Favorites';\nimport { useNavigatorOnline } from '@oieduardorabelo/use-navigator-online';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout';\nimport Checkbox from '@vkontakte/vkui/dist/components/Checkbox/Checkbox';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Select from '@vkontakte/vkui/dist/components/Select/Select';\nimport CellButton from '@vkontakte/vkui/dist/components/CellButton/CellButton';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon24Info from '@vkontakte/icons/dist/24/info';\nimport FormLayoutGroup from '@vkontakte/vkui/dist/components/FormLayoutGroup/FormLayoutGroup';\nimport FixedLayout from '@vkontakte/vkui/dist/components/FixedLayout/FixedLayout';\nimport Header from '@vkontakte/vkui/dist/components/Header/Header';\n\n\n\n\n// import styles from \"../styles/App.module.sass\";\nimport styles from \"../styles/custom-styles.sass\";\n\nconst Main = ({\n    id, dataStorage, go, activeTab, tabHome, tabFavorites, count, maxDataLength, lastItem, pay,\n    getPlatform, story, addGroup, targetList1, storyFavorites, onChangeSlider, startYear, endYear,\n    checkBoxOnClick, isAnyYear, genre, handleChange, searchError, tabAddFilms, ref_sourceName,\n    refName, updateTheme, share, networkStatus, updateConnection, fetchedUser, openBase, openErrGenre,\n    snackbar, promoBannerProps\n}) => {\n\n\n    dataStorage = dataStorage.filter(Boolean);\n\n    const renderFavorites = dataStorage.map(item => {\n        const year = `${item.year}, IMDb ${item.rating}`;\n        return (\n            <Favorites\n                key={'itemFavorites' + item.id}\n                idItem={item.id}\n                photo={item.photo}\n                name={item.name}\n                year={year}\n                storyFavorites={storyFavorites}\n            // share={share}\n            />\n        );\n    });\n\n    const renderOption = dataStorage.map(item => {\n        const year = `${item.year}, IMDb ${item.rating}`;\n        return (\n            <Favorites\n                key={'itemFavorites' + item.id}\n                idItem={item.id}\n                photo={item.photo}\n                name={item.name}\n                year={year}\n                storyFavorites={storyFavorites}\n            // share={share}\n            />\n        );\n    });\n\n\n    return (\n\n        <Panel id={id}>\n            <PanelHeader\n                noShadow={true}\n            >\n                Случайное кино\n            </PanelHeader>\n\n\n            <FixedLayout vertical=\"top\">\n                <Tabs className=\"TabsDefaultUser\">\n                    {/*<HorizontalScroll>*/}\n                    <TabsItem\n                        onClick={tabHome}\n                        selected={activeTab === 'home'}\n                        className=\"tabUser\"\n                    >\n                        Главная\n                    </TabsItem>\n                    <TabsItem\n                        onClick={tabFavorites}\n                        selected={activeTab === 'favorites'}\n                        className=\"tabUser\"\n                    >\n                        Избранное\n                    </TabsItem>\n                    <TabsItem\n                        onClick={tabAddFilms}\n                        selected={activeTab === 'addFilms'}\n                        className=\"tabUser\"\n                    >\n                        Добавить\n                    </TabsItem>\n\n                    {/*</HorizontalScroll>*/}\n                </Tabs>\n            </FixedLayout>\n\n            {/* {getPlatform === \"ios\"\n                ?\n                <Div className=\"infoDiv\" >\n\n                    {/* <Group separator=\"hide\"> */}\n                \n                    {/* <Cell className=\"infoCell\" before={<Icon24Info fill=\"blue\" />}>\n                        Увы, но данный сервис не работает на устройствах с системой iOS\n                    </Cell>\n                    {/* </Group> */}\n                {/* </Div> */} */}\n           \n                <>\n\n\n                    {networkStatus\n                        ?\n                        <Div className=\"divSpinner\">\n                            <Div className=\"navigatorDiv\">\n                                Отсутствует интернет - соединение!\n                    </Div>\n                            <CellButton\n                                className=\"navigator\"\n                                onClick={updateConnection}\n                                align={\"center\"}\n                            >Повторить\n                    </CellButton>\n                        </Div>\n                        :\n                        <>\n                            {activeTab === 'home' && maxDataLength === false\n                                ?\n                                <>\n\n\n\n                                    <Div>\n                                        {lastItem.length !== ''\n                                            ?\n\n                                            <Home\n                                                key={'itemHome' + lastItem.id}\n                                                idItem={lastItem.id}\n                                                photo={lastItem.photo}\n                                                name={lastItem.name}\n                                                year={\n                                                    lastItem.year === \"\"\n                                                        ?\n                                                        lastItem.year\n                                                        :\n                                                        `${lastItem.year}, IMDb ${lastItem.rating}`\n                                                }\n                                                storyFavorites={storyFavorites}\n                                            />\n                                            :\n                                            ''\n                                        }\n\n                                        <Div className=\"SliderDiv\">\n\n\n                                            <FormLayout>\n                                                {isAnyYear\n                                                    ?\n                                                    <RangeSlider\n                                                        step={1}\n                                                        min={2000}\n                                                        max={2019}\n                                                        value={[startYear, endYear]}\n                                                        onChange={onChangeSlider}\n                                                        top=\"Выберите год\"\n                                                        bottom={`${startYear} - ${endYear}`}\n                                                    />\n                                                    :\n                                                    <RangeSlider\n                                                        className=\"SliderDefault\"\n                                                        step={1}\n                                                        min={2000}\n                                                        max={2019}\n                                                        value={[2000, 2019]}\n                                                        top=\"Выберите год\"\n                                                        bottom={`${2000} - ${2019}`}\n                                                    />\n                                                }\n                                            </FormLayout>\n\n\n                                            <Checkbox\n                                                onClick={checkBoxOnClick}\n                                            >\n                                                Любой\n                                            </Checkbox>\n                                        </Div>\n\n\n                                        {/* {genre === \"\"\n                                            ?\n                                            <CellButton mode=\"danger\">\n                                                Выберите жанр фильма, чтобы продолжить\n                                            </CellButton>\n                                            :\n                                            \"\"\n                                        } */}\n\n\n                                        <Select\n                                            onChange={handleChange}\n                                            placeholder=\"Выберите жанр\">\n                                            <option value=\"Любой\">Любой</option>\n                                            <option value=\"драма\">драма</option>\n                                            <option value=\"мелодрама\">мелодрама</option>\n                                            <option value=\"криминал\">криминал</option>\n                                            <option value=\"документальный\">документальный</option>\n                                            <option value=\"ужасы\">ужасы</option>\n                                            <option value=\"фэнтези\">фэнтези</option>\n                                            <option value=\"триллер\">триллер</option>\n                                            <option value=\"детектив\">детектив</option>\n                                            <option value=\"комедия\">комедия</option>\n                                            <option value=\"приключения\">приключения</option>\n                                            <option value=\"спорт\">спорт</option>\n                                            <option value=\"биография\">биография</option>\n                                            <option value=\"фантастика\">фантастика</option>\n                                            <option value=\"боевик\">боевик</option>\n                                            <option value=\"военный\">военный</option>\n                                            <option value=\"история\">история</option>\n                                            <option value=\"семейный\">семейный</option>\n                                            <option value=\"музыка\">музыка</option>\n                                            <option value=\"мюзикл\">мюзикл</option>\n                                            <option value=\"мультфильм\">мультфильм</option>\n                                            <option value=\"вестерн\">вестерн</option>\n                                            <option value=\"новости\">новости</option>\n                                            <option value=\"аниме\">аниме</option>\n                                            <option value=\"короткометражка\">короткометражка</option>\n\n                                        </Select>\n\n\n\n                                        {/* \n                                        {searchError\n                                            ?\n                                            <CellButton level=\"danger\">\n                                                Вы получили все фильмы с текущими настройками\n                                                фильтра\n                                                </CellButton>\n                                            :\n                                            \"\"\n                                        } */}\n\n                                        <>\n\n                                            {/* <Button onClick={updateTheme}>Альтернативная тема</Button> */}\n\n\n                                            <Button\n                                                level=\"commerce\"\n                                                // onClick={genre === \"\" || genre === \"Выберите жанр\"  ? openErrGenre : openBase}\n                                                onClick={targetList1}\n                                                size=\"xl\"\n                                                stretched\n                                            >\n                                                Найти\n                                            </Button>\n\n                                            {snackbar}\n\n                                            <Button\n                                                className=\"buttonAddGroup\"\n                                                level=\"secondary\"\n                                                onClick={addGroup}\n                                                size=\"xl\"\n                                                stretched\n                                            >\n                                                Подписаться на нашу группу\n                                            </Button>\n\n\n{/* \n                                            <Div>\n                                                {/* <Checkbox> */}\n                                                {/* {`Используя данное приложение,\n                                                Вы соглашаетесь c ${\"  \"}`}\n                                                <Link href=\"https://vk.com/dev/uterms\" target=\"_blank\">\n                                                    пользовательским соглашением.\n                                                </Link>\n                                                {/* </Checkbox> */}\n\n                                            {/* </Div>  */}\n\n\n                                            {/* <Button\n                                                className=\"buttonStory\"\n                                                level=\"primary\"\n                                                onClick={story}\n                                                size=\"xl\"\n                                                stretched\n                                            >\n                                                Поделиться в истории\n                                            </Button> */}\n\n                                            {/* // Для рекламы\n                                            <FixedLayout vertical=\"bottom\">\n                                                <PromoBanner \n                                                bannerData={promoBannerProps}\n                                               \n                                                />\n                                            </FixedLayout> */}\n\n\n                                        </>\n                                    </Div>\n                                </>\n\n\n                                :\n                                <Div>\n                                    Вы получили все фильмы !\n                        </Div>\n                            }\n\n                            {activeTab === 'home' && maxDataLength === true\n                                ?\n                                <Div>\n                                    Вы получили все фильмы !\n                        </Div>\n                                :\n                                ''\n                            }\n\n\n                            {activeTab === 'favorites'\n                                ?\n                                <>\n                                    {dataStorage.length > 0\n                                        ?\n                                        <Div>\n                                            {renderFavorites}\n                                        </Div>\n                                        :\n                                        <Div>\n                                            <Group>\n                                                <Div>\n                                                    Вы еще не получили ни одного фильма.\n                                        </Div>\n                                            </Group>\n                                        </Div>\n                                    }\n                                </>\n                                :\n                                ''\n                            }\n\n                            <>\n                                {activeTab === 'addFilms'\n                                    ?\n\n                                    <Div>\n\n                                        <Group>\n                                            <Div>\n                                                Здесь вы можете добавить свой любимый фильм в нашу базу.\n                                                Для этого нажмите кнопку \"Добавить\" и напишите название\n                                                фильма и его год.\n                                    </Div>\n                                        </Group>\n\n                                        <Div>\n                                            <Link\n                                                href={`https://vk.me/public190534237?ref=${fetchedUser.id}&ref_source=${fetchedUser.id}`}\n                                                target=\"_blank\">\n                                                {/*<Link href=\"https://vk.me/public190534237\" target=\"_blank\">*/}\n                                                <Button\n                                                    level=\"commerce\"\n                                                    size=\"xl\"\n                                                    stretched\n                                                >\n                                                    Добавить\n                                        </Button>\n                                            </Link>\n                                        </Div>\n                                    </Div>\n                                    :\n                                    ''\n                                }\n                            </>\n                        </>\n                    }\n\n\n\n\n                </>\n            \n\n\n        </Panel>\n    );\n};\n\n\nexport default Main;\n\n\n","const config = {\r\n    debug: false\r\n};\r\n\r\nexport default config;","import config from '../config';\r\n\r\nfunction requestMethod(method) {\r\n    const url = config.debug\r\n        ? 'https://one-digitalspace.ru/api/'\r\n        : 'https://one-digitalspace.ru/api/'\r\n    ;\r\n    return url + method;\r\n}\r\n\r\nexport default requestMethod;\r\n\r\n// http://localhost:8181/\r\n// https://random-cinema.tk/api/","import React, { useEffect, useState } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport Main from \"./panels/Main\";\nimport Home from \"./panels/Home\";\nimport Favorites from \"./panels/Favorites\";\nimport Payment from \"./panels/Payment\";\nimport ConfigProvider from \"@vkontakte/vkui/dist/components/ConfigProvider/ConfigProvider\";\nimport ActionSheet from \"@vkontakte/vkui/dist/components/ActionSheet/ActionSheet\";\nimport ActionSheetItem from \"@vkontakte/vkui/dist/components/ActionSheetItem/ActionSheetItem\";\nimport Snackbar from \"@vkontakte/vkui/dist/components/Snackbar/Snackbar\";\nimport Avatar from \"@vkontakte/vkui/dist/components/Avatar/Avatar\";\nimport Icon16Done from \"@vkontakte/icons/dist/16/done\";\nimport Icon16Cancel from \"@vkontakte/icons/dist/16/cancel\";\n\n\nimport random from \"lodash/random\";\nimport cl from \"lodash/collection\";\nimport requestMethod from \"./helpers/requestMethod\";\nimport axios from \"axios\";\nimport config from \"./config\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"main\");\n  const [fetchedUser, setUser] = useState(null);\n  const [activeTab, setActiveTab] = useState(\"home\");\n  const [count, setCount] = useState(0);\n  const [dataStorage, setDataStorage] = useState([]);\n  const [maxDataLength, setMaxDataLength] = useState(false);\n  const [dataFirst, setDataFirst] = useState([]);\n  const [getPlatform, setGetPlatform] = useState(\"\");\n  const [popout, setPopout] = useState();\n  const [statusConnections, setStatusConnections] = useState(\"online\");\n  const [paymentStatus, setPaymentStatus] = useState(false);\n  const [startYear, setStartYear] = useState(2006);\n  const [endYear, setEndYear] = useState(2014);\n  const [isAnyYear, setIsAnyYear] = useState(true);\n  const [checked, setChecked] = useState(false);\n  const [genre, setGenre] = useState(\"Выберите жанр\");\n  const [searchError, setSearchError] = useState(false);\n  const [refName, setRef] = useState();\n  const [ref_sourceName, setRef_source] = useState(\"Жанр\");\n  // const [scheme, setScheme] = useState(\"bright_light\");\n  const [matchesFilter, setMatchesFilter] = useState([]);\n  const [networkStatus, setNetworkStatus] = useState(false);\n  const [snackbar, setSnackbar] = useState(null);\n  const dataGenre = [\n    {\n      id: 478,\n      photo:\n        \"https://sun9-69.userapi.com/c855416/v855416003/1c3c47/7U0_8xjs1_k.jpg\",\n      name: \"В метре друг от друга\",\n      year: 2019,\n      genre: [\"драма\"],\n      country: [\"США\"],\n      rating: \"7.206\",\n    },\n  ];\n  let dataResultGenre = [\"драма\", \"боевик\"];\n  const promoBannerProps = {\n    title: \"Заголовок\",\n    domain: \"vk.com\",\n    ctaText: \"Перейти\",\n    advertisingLabel: \"Реклама\",\n    iconLink:\n      \"https://sun9-7.userapi.com/c846420/v846420985/1526c3/ISX7VF8NjZk.jpg\",\n    description: \"Описание рекламы\",\n    ageRestriction: 14,\n  };\n  let navigator = window.navigator.onLine;\n  const [lastItem, setLastItem] = useState({\n    id: 0,\n    photo:\n      \"https://sun9-60.userapi.com/c855424/v855424816/1b98c7/NOZvWdKJbOY.jpg\",\n    name:\n      \"Наш сервис подберет для Вас случайный фильм с высоким рейтингом, нажмите 'Найти', чтобы начать. \",\n    year: \"\",\n  });\n\n  const updateConnection = (navigator) => {\n    // const navigator = window.navigator.onLine;\n    if (!navigator) {\n      setNetworkStatus(true);\n    } else {\n      setNetworkStatus(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!navigator) {\n      setNetworkStatus(true);\n    } else {\n      setNetworkStatus(false);\n    }\n  });\n\n  // ФУНКЦИЯ ДЛЯ СБОРА ВСЕХ ЖАНРОВ ФИЛЬМОВ\n  // useEffect(() => {\n  //     for (let i = 0; i < data.length; i++) {\n  //         for (let y = 0; y < data[i].genre.length; y++) {\n  //             if (\n  //                 data[i].genre[y] !== dataResultGenre[i]) {\n  //                 dataResultGenre = [...new Set([...data[i].genre, ...dataResultGenre])];\n  //                 console.log(\"data[i].genre[y]\", data[i].genre[y]);\n  //                 console.log(\"dataGenre[0].genre\", dataGenre[0].genre);\n  //                 console.log(\"dataResultGenre на итерации:\", [i], \" = \", dataResultGenre);\n  //             }\n  //         }\n  //     }\n  //     console.log(\"dataResultGenre КОНЕЦ:\", dataResultGenre);\n  // }, []);\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n\n    async function fetchData() {\n      const user = await bridge.sendPromise(\"VKWebAppGetUserInfo\");\n      setUser(user);\n    }\n\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    bridge\n      .sendPromise(\"VKWebAppGetClientVersion\")\n      .then((res) => {\n        console.log(\"ВЕРСИЯ ПРИЛОЖЕНИЯ:\", res);\n        if (res.platform === \"ios\") {\n          setGetPlatform(\"ios\");\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n    bridge\n      .sendPromise(\"VKWebAppStorageGet\", {\n        keys: [\"dataStorage\"],\n      })\n      .then((res) => {\n        const re = /&quot;/gi;\n        let str = res.keys[0].value;\n        const newStr = str.replace(re, '\"');\n        const psj = JSON.parse(newStr);\n        setDataStorage(psj);\n        console.log(\"dataStorage\", psj);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  async function getAllFilms() {\n    const response = await (await fetch(requestMethod(\"/getAllFilms\"))).json();\n\n    return response;\n  }\n\n  function getCurrentFilms() {\n    return dataStorage.filter(Boolean);\n  }\n\n  function storyFavorites(e) {\n    // console.log(\"storyFavorites:\");\n    e.preventDefault();\n    let url = \"https://vk.com/app7254171\";\n    const targetId = +e.currentTarget.id;\n    // const targetPhoto = dataStorage[targetId].photo;\n    const findTargetId = dataStorage.find((item) => item.id === targetId);\n    const findTargetIdPhoto = findTargetId.photo;\n\n    bridge\n      .sendPromise(\"VKWebAppShowStoryBox\", {\n        background_type: \"image\",\n        url: findTargetIdPhoto,\n        attachment: {\n          text: \"go_to\",\n          type: \"url\",\n          url: url,\n        },\n      })\n      .then((res) => {\n        console.log(\"story res:\", res);\n      })\n      .catch((error) => {\n        console.log(\"story error:\", error);\n      });\n  }\n\n  function story() {\n    let url = \"https://vk.com/app7254171\";\n    bridge\n      .sendPromise(\"VKWebAppShowStoryBox\", {\n        background_type: \"image\",\n        url: lastItem.photo,\n        attachment: {\n          text: \"go_to\",\n          type: \"url\",\n          url: url,\n        },\n      })\n      .then((res) => {\n        console.log(\"story res:\", res); // работает\n      })\n      .catch((error) => {\n        console.log(\"story error:\", error);\n      });\n  }\n\n  function addGroup() {\n    bridge\n    .send(\"VKWebAppJoinGroup\", { group_id: 190534237 })\n    .then(({ result }) => {\n      if (result) {\n        openAlertPay(\"Вы уже подписаны на группу\");\n      }\n    });\n\n\n  }\n\n  // function share(e) {\n  //     // TODO: ДОБАВЛЕНИЕ РЕПОСТА НА СТЕНУ ПОЛЬЗОВАТЕЛЯ\n  //     e.preventDefault();\n  //     let url = \"https://vk.com/app7254171\";\n  //     const targetId = +e.currentTarget.id;\n  //     const findTargetId = dataStorage.find(\n  //         item => item.id === targetId\n  //     );\n  //     const findTargetIdPhoto = findTargetId.photo;\n  //     console.log(`${requestMethod('getVKPhotoById')}?id=${targetId}`);\n  //     fetch(\n  //         `${requestMethod('getVKPhotoById')}?id=${targetId}`\n  //     ).then((response) => {\n  //         return response.json()\n  //     }).then((json) => {\n  //         console.log('responseJSON:', json);\n\n  //         if (json.status !== 'success') {\n  //             return;\n  //         }\n\n  //         bridge.send(\"VKWebAppShowWallPostBox\", {\n  //             \"message\": `Получи случайный фильм и поделись им с друзьями! Приложение - ${url}`,\n  //             \"attachments\": json.message\n  //         });\n  //     })\n  // }\n\n  \n\n  function openAlertPay(text, backgroundColor = \"green\") {\n    if (snackbar) return;\n    setSnackbar(\n      <Snackbar\n        duration=\"7000\"\n        layout=\"horizontal\"\n        onClose={() => setSnackbar(null)}\n        before={\n          <Avatar size={24} style={{ backgroundColor }}>\n            {backgroundColor === \"green\" ? (\n              <Icon16Done fill=\"#fff\" width={14} height={14} />\n            ) : (\n              <Icon16Cancel fill=\"#fff\" width={14} height={14} />\n            )}\n          </Avatar>\n        }\n      >\n        {text}\n      </Snackbar>\n    );\n  }\n\n\n\n  async function openBase() {\n    // await refreshStorage();\n\n    const currentFilmsIDs = JSON.stringify(getCurrentFilms().map((_) => _.id));\n\n    if (genre === \"\" || genre === \"Выберите жанр\") {\n      await openAlertPay(\"Выберите жанр, чтобы продолжить\", \"red\");\n    } else {\n      const film = (\n        await axios.get(\n          requestMethod(\n            `getFilmByFilters?genre=${genre}&years[startYear]=${startYear}&years[endYear]=${endYear}&isAnyYear=${!isAnyYear}&currentFilmsIDs=${currentFilmsIDs}`\n          )\n        )\n      ).data;\n\n      if (film.status !== \"success\") {\n         openAlertPay(\"Вы получили все фильмы с текущими настройками фильтра\", \"red\");\n\n      } else {\n        config.debug\n          ? targetList1()\n          : setPopout(\n              <>\n                <ActionSheet onClose={() => setPopout(null)}>\n                  {/* <ActionSheetItem autoclose onClick={document.qiwiPay}>\n                        Оплатить через QIWI\n                        </ActionSheetItem> */}\n                  <ActionSheetItem autoclose onClick={pay}>\n                    Оплатить через VK Pay\n                  </ActionSheetItem>\n                  {/* <ActionSheetItem autoclose mode=\"cancel\">\n                        Отменить\n                        </ActionSheetItem> */}\n                </ActionSheet>\n              </>\n            );\n      }\n    }\n  }\n\n  async function targetList1() {\n    const currentFilmsIDs = JSON.stringify(getCurrentFilms().map((_) => _.id));\n\n    if (genre === \"\" || genre === \"Выберите жанр\") {\n      await openAlertPay(\"Выберите жанр, чтобы продолжить\", \"red\");\n    } else {\n      const film = (\n        await axios.get(\n          requestMethod(\n            `getFilmByFilters?genre=${genre}&years[startYear]=${startYear}&years[endYear]=${endYear}&isAnyYear=${!isAnyYear}&currentFilmsIDs=${currentFilmsIDs}`\n          )\n        )\n      ).data;\n\n      if (film.status !== \"success\") {\n        openAlertPay(\"Вы получили все фильмы с текущими настройками фильтра\", \"red\");\n      } else {\n        setId(film.message);\n      }\n    }\n  }\n\n  function pay() {\n    bridge\n      .sendPromise(\"VKWebAppOpenPayForm\", {\n        app_id: 7254171,\n        action: \"pay-to-group\",\n        params: {\n          amount: 1,\n          group_id: 190534237, // моя 190534237\n        },\n      })\n      .then(async (res) => {\n        if (res.status || res.result.status) {\n          try {\n            const response = (\n              await axios.get(\n                requestMethod(`checkTransaction?userId=${fetchedUser.id}`)\n              )\n            ).data;\n\n            console.log(\"response\", response);\n\n            if (response.status === \"success\") {\n              setPaymentStatus(true);\n              console.log(\"ОПЛАТА ПРОШЛА 1\");\n              targetList1();\n            } else {\n              openAlertPay();\n              /**\n               * Оплата не прошла\n               * или ее не было\n               */\n            }\n          } catch (error) {\n            // Браузерная ошибка\n          }\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function setId(randomFirstId) {\n    dataStorage.push(randomFirstId);\n    setDataStorage(dataStorage);\n    const a = dataStorage[dataStorage.length - 1];\n    setLastItem(a);\n\n    const stringId = JSON.stringify(dataStorage);\n\n    bridge\n      .sendPromise(\"VKWebAppStorageSet\", {\n        key: \"dataStorage\",\n        value: stringId,\n      })\n      .then((res) => {\n        console.log(res);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function onChangeSlider([startYear, endYear]) {\n    setStartYear(startYear);\n    setEndYear(endYear);\n\n    console.log(\"startYear :\", startYear, \"endYear :\", endYear);\n  }\n\n  function handleChange(e) {\n    setGenre(e.target.value);\n  }\n\n  function checkBoxOnClick() {\n    setIsAnyYear(!isAnyYear);\n  }\n\n  async function refreshStorage() {\n    await bridge\n      .sendPromise(\"VKWebAppStorageSet\", {\n        key: \"dataStorage\",\n        value: \"\",\n      })\n      .then((res) => {\n        console.log(res);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function tabHome() {\n    setActiveTab(\"home\");\n  }\n\n  function tabFavorites() {\n    setActiveTab(\"favorites\");\n  }\n\n  function tabAddFilms() {\n    setActiveTab(\"addFilms\");\n  }\n\n  const go = (e) => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  document.qiwiPay = () => {\n    // console.log('Вызвана функция qiwiPay');\n\n    window.QiwiCheckout.createInvoice({\n      publicKey:\n        \"48e7qUxn9T7RyYE1MVZswX1FRSbE6iyCj2gCRwwF3Dnh5XrasNTx3BGPiMsyXQFNKQhvukniQG8RTVhYm3iPuaYVi5RBePrfT1bReScJaiVSaSRm3C2n7ojMWhn6FwadkMSHfVa9GEQaH6vxb8khX6TUwvZUBhqfgBNSx5zTnEf5LxBvmue1CEXUZkF1Z\",\n      amount: 1,\n      phone: \"79625494201\",\n    })\n      .then((data) => {\n        alert(data);\n        console.log(\"QIWI RESOLVE\", data);\n        // document.querySelector('#root').style=\"\";\n      })\n      .catch((error) => {\n        console.log(\"QIWI ERROR:\", error);\n        // document.querySelector('#root').style=\"\";\n      });\n  };\n\n  // const updateTheme = () => {\n  //     if (scheme === \"bright_light\" || scheme === \"client_light\") {\n  //         setScheme('space_gray');\n  //         bridge.send(\"VKWebAppSetViewSettings\", { \"status_bar_style\": \"light\", \"action_bar_color\": \"#3e2d8f\" });\n  //     }\n  //     else if (scheme === \"space_gray\" || scheme === \"client_dark\") {\n  //         setScheme('bright_light');\n  //         bridge.send(\"VKWebAppSetViewSettings\", { \"status_bar_style\": \"dark\", \"action_bar_color\": \"#fff\" });\n  //     }\n  // }\n\n  return (\n    // <ConfigProvider\n    //     isWebView={true}\n    //     scheme={scheme}>\n    <View activePanel={activePanel} popout={popout}>\n      <Main\n        id=\"main\"\n        dataStorage={dataStorage}\n        activeTab={activeTab}\n        tabHome={tabHome}\n        tabFavorites={tabFavorites}\n        targetList1={targetList1}\n        count={count}\n        maxDataLength={maxDataLength}\n        lastItem={lastItem}\n        fetchedUser={fetchedUser}\n        refName={refName}\n        ref_sourceName={ref_sourceName}\n        tabAddFilms={tabAddFilms}\n        searchError={searchError}\n        handleChange={handleChange}\n        genre={genre}\n        startYear={startYear}\n        endYear={endYear}\n        onChangeSlider={onChangeSlider}\n        storyFavorites={storyFavorites}\n        addGroup={addGroup}\n        isAnyYear={isAnyYear}\n        checkBoxOnClick={checkBoxOnClick}\n        story={story}\n        getPlatform={getPlatform}\n        pay={pay}\n        networkStatus={networkStatus}\n        updateConnection={updateConnection}\n        fetchedUser={fetchedUser}\n        openBase={openBase}\n        snackbar={snackbar}\n        promoBannerProps={promoBannerProps}\n        // share={share} // репост\n        // updateTheme={updateTheme}\n      />\n      <Home id=\"home\" go={go} />\n      <Favorites id=\"favorites\" go={go} />\n    </View>\n\n    // </ConfigProvider>\n  );\n};\nexport default App;\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}