{"version":3,"sources":["panels/Home.js","panels/Favorites.js","panels/Main.js","helpers/requestMethod.js","App.js","index.js"],"names":["Home","name","photo","year","idItem","top","className","id","description","before","type","src","size","Favorites","storyFavorites","shareIcon1","share","onClick","fill","asideContent","Main","dataStorage","activeTab","go","tabHome","tabFavorites","maxDataLength","count","lastItem","getPlatform","pay","story","addGroup","targetList1","onChangeSlider","checkBoxOnClick","handleChange","isAnyYear","genre","searchError","tabAddFilms","networkStatus","ref_sourceName","refName","updateTheme","updateConnection","fetchedUser","openBase","renderFavorites","filter","Boolean","map","item","rating","key","noShadow","vertical","selected","align","length","step","min","max","value","Number","onChange","bottom","title","level","stretched","href","target","debug","requestMethod","method","App","useState","activePanel","setActivePanel","setUser","setActiveTab","setDataStorage","setGetPlatform","popout","setPopout","setPaymentStatus","setYear","setIsAnyYear","setGenre","setSearchError","setNetworkStatus","setLastItem","navigator","window","onLine","a","async","currentFilmsIDs","JSON","stringify","_","axios","get","film","data","status","setId","message","console","log","connect","sendPromise","then","res","result","catch","error","randomFirstId","push","stringId","useEffect","subscribe","detail","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","user","fetchData","platform","newStr","keys","replace","psj","parse","e","currentTarget","dataset","to","preventDefault","targetId","findTargetId","find","findTargetIdPhoto","send","onClose","autoclose","qiwiPay","mode","ReactDOM","render","getElementById"],"mappings":"yzBAiCeA,EAxBF,SAAC,GAAiC,IAAhCC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,OAG9B,OACI,kBAAC,IAAD,CAAMC,KAAG,GACL,kBAAC,IAAD,CAAKC,UAAU,qBACX,kBAAC,IAAD,CACIA,UAAU,SACVC,GAAIH,EACJI,YAAaL,EACbM,OAAQ,kBAAC,IAAD,CACJC,KAAK,QACLC,IAAKT,EACLU,KAAM,OAGTX,MCmBNY,G,OAlCG,SAAC,GAAwD,IAAvDZ,EAAsD,EAAtDA,KAAMC,EAAgD,EAAhDA,MAAOC,EAAyC,EAAzCA,KAAMC,EAAmC,EAAnCA,OAAQU,EAA2B,EAA3BA,eAErCC,GAFgE,EAAXC,MAGvD,kBAAC,IAAD,CAAKT,GAAIH,EAAQa,QAASH,GACtB,kBAAC,IAAD,CAAqBI,KAAK,oBAOlC,OACI,kBAAC,IAAD,CAAMb,KAAG,GACL,kBAAC,IAAD,CAAKC,UAAU,iBACX,kBAAC,IAAD,CACIA,UAAU,SACVC,GAAIH,EACJI,YAAaL,EACbM,OAAQ,kBAAC,IAAD,CACJC,KAAK,QACLC,IAAKT,EACLU,KAAM,MAEVO,aAAcJ,GAGbd,O,+EC+ONmB,EAnPF,SAAC,GAKO,IAJHb,EAIE,EAJFA,GAAIc,EAIF,EAJEA,YAAiBC,GAInB,EAJeC,GAIf,EAJmBD,WAAWE,EAI9B,EAJ8BA,QAASC,EAIvC,EAJuCA,aAAqBC,GAI5D,EAJqDC,MAIrD,EAJ4DD,eAAeE,EAI3E,EAJ2EA,SAC7EC,GAGE,EAJqFC,IAIrF,EAHFD,aAAaE,EAGX,EAHWA,MAAOC,EAGlB,EAHkBA,SAAuBlB,GAGzC,EAH4BmB,YAG5B,EAHyCnB,gBAAgBoB,EAGzD,EAHyDA,eAAgB/B,EAGzE,EAHyEA,KAC3EgC,EAEE,EAFFA,gBAAmCC,GAEjC,EAFeC,UAEf,EAF0BC,MAE1B,EAFiCF,cAAcG,EAE/C,EAF+CA,YAAaC,EAE5D,EAF4DA,YACjCC,GAC3B,EAFyEC,eAEzE,EADFC,QACE,EADOC,YACP,EADoB5B,MACpB,EAD2ByB,eAAeI,EAC1C,EAD0CA,iBAAkBC,EAC5D,EAD4DA,YAAaC,EACzE,EADyEA,SAInFC,GAFN3B,EAAcA,EAAY4B,OAAOC,UAEGC,KAAI,SAAAC,GACpC,IAAMjD,EAAI,UAAMiD,EAAKjD,KAAX,kBAAyBiD,EAAKC,QACxC,OACI,kBAAC,EAAD,CACIC,IAAK,gBAAkBF,EAAK7C,GAC5BH,OAAQgD,EAAK7C,GACbL,MAAOkD,EAAKlD,MACZD,KAAMmD,EAAKnD,KACXE,KAAMA,EACNW,eAAgBA,OAM5B,OAEI,kBAAC,IAAD,CAAOP,GAAIA,GACP,kBAAC,IAAD,CACIgD,UAAU,GADd,mFAKA,kBAAC,IAAD,CAAaC,SAAS,OAClB,kBAAC,IAAD,CAAMlD,UAAU,mBAEZ,kBAAC,IAAD,CACIW,QAASO,EACTiC,SAAwB,SAAdnC,EACVhB,UAAU,WAHd,8CAOA,kBAAC,IAAD,CACIW,QAASQ,EACTgC,SAAwB,cAAdnC,EACVhB,UAAU,WAHd,0DAOA,kBAAC,IAAD,CACIW,QAASuB,EACTiB,SAAwB,aAAdnC,EACVhB,UAAU,WAHd,sDAaPmC,EAEG,kBAAC,IAAD,CAAKnC,UAAU,cACX,kBAAC,IAAD,CAAKA,UAAU,gBAAf,uLAGA,kBAAC,IAAD,CACIA,UAAU,YACVW,QAAS4B,EACTa,MAAO,UAHX,2DAQJ,oCASmB,SAAdpC,IAA0C,IAAlBI,EAErB,oCACqB,QAAhBG,EAEG,kBAAC,IAAD,CAAKvB,UAAU,YAAf,uRAIA,oCACI,kBAAC,IAAD,KACyB,KAApBsB,EAAS+B,OAEN,kBAAC,EAAD,CACIL,IAAK,WAAa1B,EAASrB,GAC3BH,OAAQwB,EAASrB,GACjBL,MAAO0B,EAAS1B,MAChBD,KAAM2B,EAAS3B,KACfE,KAAMyB,EAASzB,OAGnB,GAGJ,kBAAC,IAAD,CAAKG,UAAU,aACX,kBAAC,IAAD,KACI,kBAAC,IAAD,CACIsD,KAAM,EACNC,IAAK,IACLC,IAAK,KACLC,MAAOC,OAAO7D,GACd8D,SAAU/B,EACV7B,IAAK,sEACL6D,OAAM,UAAK/D,MAInB,kBAAC,IAAD,CACIc,QAASkB,GADb,mCAOJ,kBAAC,IAAD,CAAOgC,MAAM,8EAGb,kBAAC,IAAD,CAAQF,SAAU7B,GACd,4BAAQ2B,MAAM,kCAAd,kCACA,4BAAQA,MAAM,wCAAd,wCACA,4BAAQA,MAAM,8CAAd,8CACA,4BAAQA,MAAM,kCAAd,kCACA,4BAAQA,MAAM,sEAAd,sEACA,4BAAQA,MAAM,oDAAd,oDACA,4BAAQA,MAAM,0DAAd,2DAGHxB,EAEG,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAY6B,MAAM,UAAlB,gSAMJ,GAGJ,kBAAC,IAAD,CAAOD,MAAM,2JAEb,oCACI,kBAAC,IAAD,CACIC,MAAM,WACNnD,QAAS8B,EACTnC,KAAK,KACLyD,WAAS,GAJb,kCAQA,kBAAC,IAAD,CACI/D,UAAU,iBACV8D,MAAM,YACNnD,QAASe,EACTpB,KAAK,KACLyD,WAAS,GALb,iJASA,kBAAC,IAAD,CACI/D,UAAU,cACV8D,MAAM,UACNnD,QAASc,EACTnB,KAAK,KACLyD,WAAS,GALb,sHAepB,kBAAC,IAAD,gIAKW,SAAd/C,IAA0C,IAAlBI,EAErB,kBAAC,IAAD,gIAIA,GAGW,cAAdJ,EAEG,oCACI,kBAAC,IAAD,KACK0B,IAIT,GAGJ,oCACmB,aAAd1B,EAEG,kBAAC,IAAD,KACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CACIgD,KAAI,4CAAuCxB,EAAYvC,GAAnD,uBAAoEuC,EAAYvC,IACpFgE,OAAO,UAEP,kBAAC,IAAD,CACIH,MAAM,WACNxD,KAAK,KACLyD,WAAS,GAHb,uDAWZ,O,yDCzQtBG,I,eAAQ,GAUCC,OARf,SAAuBC,GAKnB,OAJYF,GACN,yBACA,iCAEOE,G,qBCgaFC,GAtZH,WAAO,IAAD,IAC4BC,mBAAS,QADrC,mBACHC,EADG,KACUC,EADV,OAEqBF,mBAAS,MAF9B,mBAEH9B,EAFG,KAEUiC,EAFV,OAGwBH,mBAAS,QAHjC,mBAGHtD,EAHG,KAGQ0D,EAHR,OAIgBJ,mBAAS,GAJzB,mBAIHjD,EAJG,aAK4BiD,mBAAS,KALrC,mBAKHvD,EALG,KAKU4D,EALV,OAMgCL,oBAAS,GANzC,mBAMHlD,EANG,aAOwBkD,mBAAS,KAPjC,gCAQ4BA,mBAAS,KARrC,mBAQH/C,EARG,KAQUqD,EARV,OASkBN,qBATlB,mBASHO,EATG,KASKC,EATL,OAUwCR,mBAAS,UAVjD,gCAWgCA,oBAAS,IAXzC,mBAWYS,GAXZ,aAYcT,mBAAS,KAZvB,mBAYHzE,EAZG,KAYGmF,EAZH,OAawBV,oBAAS,GAbjC,mBAaHvC,GAbG,KAaQkD,GAbR,QAcoBX,oBAAS,GAd7B,qCAegBA,mBAAS,mCAfzB,qBAeHtC,GAfG,MAeIkD,GAfJ,SAgB4BZ,oBAAS,GAhBrC,qBAgBHrC,GAhBG,MAgBUkD,GAhBV,SAiBgBb,qBAjBhB,qBAiBHjC,GAjBG,gBAkB8BiC,mBAAS,6BAlBvC,qBAkBHlC,GAlBG,gBAoBgCkC,mBAAS,KApBzC,qCAqBgCA,oBAAS,IArBzC,qBAqBHnC,GArBG,MAqBYiD,GArBZ,SAsBsBd,mBAC5B,CACIrE,GAAI,EACJL,MAAO,wEACPD,KAAM,0DA1BJ,qBAsBH2B,GAtBG,MAsBO+D,GAtBP,MA+BJC,GAAYC,OAAOD,UAAUE,OAyGnC,SAAe7D,KAAf,iBAAA8D,EAAAC,OAAA,uDACUC,EAAkBC,KAAKC,UAJtB9E,EAAY4B,OAAOC,SAKJC,KAAI,SAAAiD,GAAC,OAAIA,EAAE7F,OAFrC,WAAAwF,EAAA,MAKwBM,KAAMC,IACtB7B,GAAc,0BAAD,OACiBnC,GADjB,iBAC+BnC,EAD/B,uBACkDkC,GADlD,4BAC+E4D,MAPpG,OAWwB,aANdM,EALV,OASOC,MAEMC,OACLhB,IAAe,IAEfiB,GAAMH,EAAKI,SACXlB,IAAe,IAfvB,qCAmHA,SAAS3D,KACL8E,QAAQC,IAAI,6FAEZC,IAAQC,YAAY,sBAAuB,CACvC,OAAU,QACV,OAAU,eACV,OAAU,CACN,OAAU,EACV,SAAY,aAEjBC,MAAK,SAAOC,GAAP,SAAAlB,EAAAC,OAAA,oDACAiB,EAAIR,SAAUQ,EAAIC,OAAOT,OADzB,4CAAAV,EAAA,MAG4BM,KAAMC,IAC1B7B,GAAc,2BAAD,OACkB3B,EAAYvC,OALnD,OAS4B,YAT5B,OAOOiG,KAEUC,SACTpB,GAAiB,GACjBuB,QAAQC,IAAI,+EACZ5E,MAZR,2GAuBLkF,OAAM,SAAAC,GACLR,QAAQC,IAAIO,MAKpB,SAASV,GAAMW,GACXhG,EAAYiG,KAAKD,GACjBpC,EAAe5D,GACf,IAAM0E,EAAI1E,EAAYA,EAAYsC,OAAS,GAC3CgC,GAAYI,GAEZ,IAAMwB,EAAWrB,KAAKC,UAAU9E,GAGhCyF,IAAQC,YAAY,qBAChB,CACI,IAAO,cACP,MAASQ,IAEZP,MAAK,SAACC,GACHL,QAAQC,IAAII,MAEfE,OAAM,SAACC,GACJR,QAAQC,IAAIO,MAtPxBI,qBAAU,WAED5B,IAIDF,IAAiB,GACjBkB,QAAQC,IAAI,qBAAsBjB,MAJlCF,IAAiB,GACjBkB,QAAQC,IAAI,qBAAsBjB,QAO1C4B,qBAAU,WACNV,IAAQW,WAAU,YAA6B,IAAD,IAA1BC,OAAShH,EAAiB,EAAjBA,KAAM8F,EAAW,EAAXA,KAC/B,GAAa,yBAAT9F,EAAiC,CACjC,IAAMiH,EAAkBC,SAASC,gBAAgB,UACjDF,EAAgB5D,MAAQyC,EAAKsB,OAAStB,EAAKsB,OAAS,eACpDF,SAASG,KAAKC,WAAWC,aAAaN,OAI9C,mBAAA5B,EAAAC,OAAA,kEAAAD,EAAA,MACuBe,IAAQC,YAAY,wBAD3C,OACUmB,EADV,OAEInD,EAAQmD,GAFZ,qCAMAC,KAGD,IAEHX,qBAAU,WAENV,IAAQC,YAAY,4BAClBC,MAAK,SAAAC,GACHL,QAAQC,IAAI,qGAAsBI,GACb,QAAjBA,EAAImB,UACJlD,EAAe,UAEpBiC,OAAM,SAAAC,GACLR,QAAQC,IAAIO,MAGhBN,IAAQC,YAAY,qBAChB,CACI,KAAQ,CAAC,iBAEZC,MAAK,SAACC,GACH,IAEMoB,EADIpB,EAAIqB,KAAK,GAAGvE,MACHwE,QAFR,WAEoB,KACzBC,EAAMtC,KAAKuC,MAAMJ,GACvBpD,EAAeuD,GACf5B,QAAQC,IAAI,cAAe2B,MAG9BrB,OAAM,SAACC,GACJR,QAAQC,IAAIO,QAGrB,IAwOH,IAAM7F,GAAK,SAAAmH,GACP5D,EAAe4D,EAAEC,cAAcC,QAAQC,KAG3C,OACI,kBAAC,IAAD,CAAMhE,YAAaA,EACnBM,OAAQA,GAEJ,kBAAC,GAAD,GAAM5E,GAAG,OACHc,YAAaA,EACbC,UAAWA,EACXE,QAvBd,WACIwD,EAAa,SAuBHvD,aApBd,WACIuD,EAAa,cAoBH/C,YAAaA,GACbN,MAAOA,EACPD,cAAeA,EACfE,SAAUA,GACVkB,YAAaA,EACbH,QAASA,GACTD,eAAgBA,GAChBF,YAxBd,WACIwC,EAAa,aAwBHzC,YAAaA,GACbH,aA3Dd,SAAsBsG,GAClBlD,GAASkD,EAAEnE,OAAOR,OAClB6C,QAAQC,IAAI,aAAcvE,KA0DhBA,MAAOA,GACPnC,KAAMA,EACN+B,eAnEd,SAAwB/B,GACpBmF,EAAQnF,GACRyG,QAAQC,IAAI,YAAa1G,IAkEfW,eAjOd,SAAwB4H,GACpB9B,QAAQC,IAAI,mBACZ6B,EAAEI,iBACF,IACMC,GAAYL,EAAEC,cAAcpI,GAE5ByI,EAAe3H,EAAY4H,MAC7B,SAAA7F,GAAI,OAAIA,EAAK7C,KAAOwI,KAElBG,EAAoBF,EAAa9I,MAEvC0G,QAAQC,IAAI,YAAakC,GACzBnC,QAAQC,IAAI,gBAAiBmC,GAC7BpC,QAAQC,IAAI,qBAAsBqC,GAElCpC,IAAQC,YAAY,uBAAwB,CACxC,gBAAmB,QACnB,IAAOmC,EACP,WAAc,CACV,KAAQ,QACR,KAAQ,MACR,IAlBE,+BAoBPlC,MAAK,SAAAC,GACJL,QAAQC,IAAI,aAAcI,MAC3BE,OAAM,SAAAC,GACLR,QAAQC,IAAI,eAAgBO,OAwMtBpF,SAnLd,WACI8E,IAAQqC,KAAK,oBAAqB,CAAC,SAAY,aAmLrC9G,UAAWA,GACXF,gBA7Dd,WACIoD,IAAclD,IAEduE,QAAQC,IAAI,aAAcxE,KA2DhBN,MAvMd,WAEI+E,IAAQC,YAAY,uBAAwB,CACxC,gBAAmB,QACnB,IAAOnF,GAAS1B,MAChB,WAAc,CACV,KAAQ,QACR,KAAQ,MACR,IAPE,+BASP8G,MAAK,SAAAC,GACJL,QAAQC,IAAI,aAAcI,MAC3BE,OAAM,SAAAC,GACLR,QAAQC,IAAI,eAAgBO,OA2LtBvF,YAAaA,EACbC,IAAKA,GACLW,cAAeA,GACfI,iBAnWW,WACrB,IAAM+C,EAAYC,OAAOD,UAAUE,OAI/BJ,IAHCE,KAuUD,4BA2BmB9C,GA3BnB,0BAhIR,WACIsC,EAAU,oCACN,kBAAC,KAAD,CAAagE,QAAS,kBAAMhE,EAAU,QAClC,kBAAC,KAAD,CAAiBiE,WAAS,EAACpI,QAAS2G,SAAS0B,SAA7C,wFAGA,kBAAC,KAAD,CAAiBD,WAAS,EAACpI,QAASa,IAApC,0FAGA,kBAAC,KAAD,CAAiBuH,WAAS,EAACE,KAAK,UAAhC,0DAuHJ,IAgCA,kBAAC,EAAD,CAAMhJ,GAAG,OACHgB,GAAIA,KACV,kBAAC,EAAD,CAAWhB,GAAG,YACHgB,GAAIA,OCrZ/BuF,IAAQqC,KAAK,gBAQbK,IAASC,OAAO,kBAAC,GAAD,MAAS7B,SAAS8B,eAAe,W","file":"static/js/main.06287f3d.chunk.js","sourcesContent":["import React from 'react';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport Icon24ShareOutline from '@vkontakte/icons/dist/24/share_outline';\n// import styles from \"./App.module.sass\";\nimport styles from \"../styles/custom-styles.sass\";\nimport Fake from 'react-reveal';\n\nconst Home = ({name, photo, year, idItem}) => {\n\n\n    return (\n        <Fake top>\n            <Div className='cardHome bg-color'>\n                <Cell\n                    className='myItem'\n                    id={idItem}\n                    description={year}\n                    before={<Avatar\n                        type=\"image\"\n                        src={photo}\n                        size={100}\n                    />}\n                >\n                    {name}\n                </Cell>\n            </Div>\n        </Fake>\n    )\n};\n\n\nexport default Home;\n\n\n\n\n","import React from 'react';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport Icon24ShareOutline from '@vkontakte/icons/dist/24/share_outline';\r\nimport Icon24Advertising from '@vkontakte/icons/dist/24/advertising';\r\n// import styles from \"./App.module.sass\";\r\nimport styles from \"../styles/custom-styles.sass\";\r\nimport Fake from 'react-reveal';\r\n\r\nconst Favorites = ({name, photo, year, idItem, storyFavorites, share}) => {\r\n\r\n    const shareIcon1 =\r\n        <Div id={idItem} onClick={storyFavorites}>\r\n            <Icon24ShareOutline  fill=\"var(--accent)\"/>\r\n        </Div>;\r\n    // const shareIcon2 =\r\n    //     <Div id={idItem} onClick={share}>\r\n    //         <Icon24Advertising  fill=\"var(--accent)\"/>\r\n    //     </Div>;\r\n\r\n    return (\r\n        <Fake top>\r\n            <Div className='card bg-color'>\r\n                <Cell\r\n                    className='myItem'\r\n                    id={idItem}\r\n                    description={year}\r\n                    before={<Avatar\r\n                        type=\"image\"\r\n                        src={photo}\r\n                        size={100}\r\n                    />}\r\n                    asideContent={shareIcon1}\r\n                    // indicator={shareIcon2}\r\n                >\r\n                    {name}\r\n                </Cell>\r\n            </Div>\r\n        </Fake>\r\n    )\r\n};\r\n\r\n\r\nexport default Favorites;\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport List from '@vkontakte/vkui/dist/components/List/List';\nimport FixedLayout from '@vkontakte/vkui/dist/components/FixedLayout/FixedLayout';\nimport Tabs from '@vkontakte/vkui/dist/components/Tabs/Tabs';\nimport TabsItem from '@vkontakte/vkui/dist/components/TabsItem/TabsItem';\nimport HorizontalScroll from '@vkontakte/vkui/dist/components/HorizontalScroll/HorizontalScroll';\nimport Slider from \"@vkontakte/vkui/dist/components/Slider/Slider\";\nimport Link from \"@vkontakte/vkui/dist/components/Link/Link\";\nimport Home from './Home';\nimport Favorites from './Favorites';\nimport {useNavigatorOnline} from '@oieduardorabelo/use-navigator-online';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout';\nimport Checkbox from '@vkontakte/vkui/dist/components/Checkbox/Checkbox';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Select from '@vkontakte/vkui/dist/components/Select/Select';\nimport CellButton from '@vkontakte/vkui/dist/components/CellButton/CellButton';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\n\n\nimport FormLayoutGroup from '@vkontakte/vkui/dist/components/FormLayoutGroup/FormLayoutGroup';\n\n\n// import styles from \"../styles/App.module.sass\";\nimport styles from \"../styles/custom-styles.sass\";\n\nconst Main = ({\n                  id, dataStorage, go, activeTab, tabHome, tabFavorites, count, maxDataLength, lastItem, pay,\n                  getPlatform, story, addGroup, targetList1, storyFavorites, onChangeSlider, year,\n                  checkBoxOnClick, isAnyYear, genre, handleChange, searchError, tabAddFilms, ref_sourceName,\n                  refName, updateTheme, share, networkStatus, updateConnection, fetchedUser, openBase\n              }) => {\n    dataStorage = dataStorage.filter(Boolean);\n\n    const renderFavorites = dataStorage.map(item => {\n        const year = `${item.year}, IMDb ${item.rating}`;\n        return (\n            <Favorites\n                key={'itemFavorites' + item.id}\n                idItem={item.id}\n                photo={item.photo}\n                name={item.name}\n                year={year}\n                storyFavorites={storyFavorites}\n                // share={share}\n            />\n        );\n    });\n\n    return (\n\n        <Panel id={id}>\n            <PanelHeader\n                noShadow={true}\n            >\n                Случайное кино\n            </PanelHeader>\n            <FixedLayout vertical=\"top\">\n                <Tabs className=\"TabsDefaultUser\">\n                    {/*<HorizontalScroll>*/}\n                    <TabsItem\n                        onClick={tabHome}\n                        selected={activeTab === 'home'}\n                        className=\"tabUser\"\n                    >\n                        Главная\n                    </TabsItem>\n                    <TabsItem\n                        onClick={tabFavorites}\n                        selected={activeTab === 'favorites'}\n                        className=\"tabUser\"\n                    >\n                        Избранное\n                    </TabsItem>\n                    <TabsItem\n                        onClick={tabAddFilms}\n                        selected={activeTab === 'addFilms'}\n                        className=\"tabUser\"\n                    >\n                        Добавить\n                    </TabsItem>\n\n                    {/*</HorizontalScroll>*/}\n                </Tabs>\n            </FixedLayout>\n\n\n            {networkStatus\n                ?\n                <Div className=\"divSpinner\">\n                    <Div className=\"navigatorDiv\">\n                        Отсутствует интернет - соединение!\n                    </Div>\n                    <CellButton\n                        className=\"navigator\"\n                        onClick={updateConnection}\n                        align={\"center\"}\n                    >Повторить\n                    </CellButton>\n                </Div>\n                :\n                <>\n                    {/*{getPlatform === \"ios\"*/}\n                    {/*?*/}\n                    {/*<Div className=\"GroupIos\">*/}\n                    {/*Данный сервис не работает на устройствах с системой iOS*/}\n                    {/*</Div>*/}\n                    {/*:*/}\n                    {/*<>*/}\n\n                    {activeTab === 'home' && maxDataLength === false\n                        ?\n                        <>\n                            {getPlatform === \"ios\"\n                                ?\n                                <Div className=\"GroupIos\">\n                                    Данный сервис не работает на устройствах с системой iOS\n                                </Div>\n                                :\n                                <>\n                                    <Div>\n                                        {lastItem.length !== ''\n                                            ?\n                                            <Home\n                                                key={'itemHome' + lastItem.id}\n                                                idItem={lastItem.id}\n                                                photo={lastItem.photo}\n                                                name={lastItem.name}\n                                                year={lastItem.year}\n                                            />\n                                            :\n                                            ''\n                                        }\n\n                                        <Div className=\"SliderDiv\">\n                                            <FormLayout>\n                                                <Slider\n                                                    step={1}\n                                                    min={2000}\n                                                    max={2019}\n                                                    value={Number(year)}\n                                                    onChange={onChangeSlider}\n                                                    top={\"Выберите год\"}\n                                                    bottom={`${year}`}\n                                                />\n                                            </FormLayout>\n\n                                            <Checkbox\n                                                onClick={checkBoxOnClick}\n                                            >\n                                                Любой\n                                            </Checkbox>\n                                        </Div>\n\n                                        <Group title=\"Выберите жанр\">\n                                        </Group>\n\n                                        <Select onChange={handleChange}>\n                                            <option value=\"Любой\">Любой</option>\n                                            <option value=\"боевик\">боевик</option>\n                                            <option value=\"история\">история</option>\n                                            <option value=\"драма\">драма</option>\n                                            <option value=\"приключения\">приключения</option>\n                                            <option value=\"криминал\">криминал</option>\n                                            <option value=\"мелодрама\">мелодрама</option>\n                                        </Select>\n\n                                        {searchError\n                                            ?\n                                            <Group>\n                                                <CellButton level=\"danger\">\n                                                    Вы получили все фильмы с текущими настройками\n                                                    фильтра\n                                                </CellButton>\n                                            </Group>\n                                            :\n                                            \"\"\n                                        }\n\n                                        <Group title=\"Найти случайный фильм за 1 руб\">\n                                        </Group>\n                                        <>\n                                            <Button\n                                                level=\"commerce\"\n                                                onClick={openBase}\n                                                size=\"xl\"\n                                                stretched\n                                            >\n                                                Найти\n                                            </Button>\n                                            <Button\n                                                className=\"buttonAddGroup\"\n                                                level=\"secondary\"\n                                                onClick={addGroup}\n                                                size=\"xl\"\n                                                stretched\n                                            >\n                                                Подписаться на нашу группу\n                                            </Button>\n                                            <Button\n                                                className=\"buttonStory\"\n                                                level=\"primary\"\n                                                onClick={story}\n                                                size=\"xl\"\n                                                stretched\n                                            >\n                                                Поделиться в истории\n                                            </Button>\n                                        </>\n                                    </Div>\n                                </>\n                            }\n                        </>\n                        :\n                        <Div>\n                            Вы получили все фильмы !\n                        </Div>\n                    }\n\n                    {activeTab === 'home' && maxDataLength === true\n                        ?\n                        <Div>\n                            Вы получили все фильмы !\n                        </Div>\n                        :\n                        ''\n                    }\n\n                    {activeTab === 'favorites'\n                        ?\n                        <>\n                            <Div>\n                                {renderFavorites}\n                            </Div>\n                        </>\n                        :\n                        ''\n                    }\n\n                    <>\n                        {activeTab === 'addFilms'\n                            ?\n                            <Div>\n                                <Div>\n                                    <Link\n                                        href={`https://vk.me/public190534237?ref=${fetchedUser.id}&ref_source=${fetchedUser.id}`}\n                                        target=\"_blank\">\n                                        {/*<Link href=\"https://vk.me/public190534237\" target=\"_blank\">*/}\n                                        <Button\n                                            level=\"commerce\"\n                                            size=\"xl\"\n                                            stretched\n                                        >\n                                            Добавить \n                                        </Button>\n                                    </Link>\n                                </Div>\n                            </Div>\n                            :\n                            ''\n                        }\n                    </>\n                </>\n            }\n        </Panel>\n    );\n};\n\n\nexport default Main;\n\n\n","const debug = false;\r\n\r\nfunction requestMethod(method) {\r\n    const url = debug\r\n        ? 'http://localhost:8181/'\r\n        : 'https://random-cinema.tk/api/'\r\n    ;\r\n    return url + method;\r\n}\r\n\r\nexport default requestMethod;","import React, {useEffect, useState} from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Main from './panels/Main';\nimport Home from './panels/Home';\nimport Favorites from './panels/Favorites';\nimport Payment from './panels/Payment';\nimport ConfigProvider from '@vkontakte/vkui/dist/components/ConfigProvider/ConfigProvider';\nimport ActionSheet from '@vkontakte/vkui/dist/components/ActionSheet/ActionSheet';\nimport ActionSheetItem from '@vkontakte/vkui/dist/components/ActionSheetItem/ActionSheetItem';\n// import data from './db/db';\nimport random from 'lodash/random';\nimport cl from 'lodash/collection';\nimport requestMethod from './helpers/requestMethod';\nimport axios from 'axios';\n\nconst App = () => {\n        const [activePanel, setActivePanel] = useState('main');\n        const [fetchedUser, setUser] = useState(null);\n        const [activeTab, setActiveTab] = useState('home');\n        const [count, setCount] = useState(0);\n        const [dataStorage, setDataStorage] = useState([]);\n        const [maxDataLength, setMaxDataLength] = useState(false);\n        const [dataFirst, setDataFirst] = useState([]);\n        const [getPlatform, setGetPlatform] = useState(\"\");\n        const [popout, setPopout] = useState();\n        const [statusConnections, setStatusConnections] = useState('online');\n        const [paymentStatus, setPaymentStatus] = useState(false);\n        const [year, setYear] = useState(2000);\n        const [isAnyYear, setIsAnyYear] = useState(true);\n        const [checked, setChecked] = useState(false);\n        const [genre, setGenre] = useState(\"Любой\");\n        const [searchError, setSearchError] = useState(false);\n        const [refName, setRef] = useState();\n        const [ref_sourceName, setRef_source] = useState(\"Жанр\");\n        // const [scheme, SetScheme] = useState(\"bright_light\");\n        const [matchesFilter, setMatchesFilter] = useState([]);\n        const [networkStatus, setNetworkStatus] = useState(false);\n        const [lastItem, setLastItem] = useState(\n            {\n                id: 0,\n                photo: \"https://sun9-60.userapi.com/c855424/v855424816/1b98c7/NOZvWdKJbOY.jpg\",\n                name: \"Жми  - найти!\"\n            });\n\n        // console.log(\"useEffect navigator\", navigator);\n\n        const navigator = window.navigator.onLine;\n\n        const updateConnection = () => {\n            const navigator = window.navigator.onLine;\n            if (!navigator) {\n                setNetworkStatus(true);\n            } else {\n                setNetworkStatus(false);\n            }\n        };\n\n\n        // useEffect(() => {\n        //     const script = document.createElement(\"script\");\n        //     script.async = true;\n        //     script.src = \"https://oplata.qiwi.com/popup/v1.js\";\n        //     script.onload = () => this.scriptLoaded();\n        \n        \n        \n        //     //For head\n        //     document.head.appendChild(script);\n        \n        //     // For body\n        //     document.body.appendChild(script);\n        \n        //     // For component\n        //     this.div.appendChild(script);\n\n        // }, []);\n\n        useEffect(() => {\n\n            if (!navigator) {\n                setNetworkStatus(true);\n                console.log(\"checkNetworkStatus\", navigator);\n            } else {\n                setNetworkStatus(false);\n                console.log(\"checkNetworkStatus\", navigator);\n            }\n        });\n\n        useEffect(() => {\n            connect.subscribe(({detail: {type, data}}) => {\n                if (type === 'VKWebAppUpdateConfig') {\n                    const schemeAttribute = document.createAttribute('scheme');\n                    schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n                    document.body.attributes.setNamedItem(schemeAttribute);\n                }\n            });\n\n            async function fetchData() {\n                const user = await connect.sendPromise('VKWebAppGetUserInfo');\n                setUser(user);\n                \n            }\n           \n            fetchData();\n            \n\n        }, []);\n\n        useEffect(() => {\n            // refreshStorage();\n            connect.sendPromise('VKWebAppGetClientVersion',\n            ).then(res => {\n                console.log(\"ВЕРСИЯ ПРИЛОЖЕНИЯ:\", res);\n                if (res.platform === \"ios\") {\n                    setGetPlatform(\"ios\");\n                }\n            }).catch(error => {\n                console.log(error);\n            });\n\n            connect.sendPromise('VKWebAppStorageGet',\n                {\n                    'keys': ['dataStorage']\n                })\n                .then((res) => {\n                    const re = /&quot;/gi;\n                    let str = res.keys[0].value;\n                    const newStr = str.replace(re, '\"');\n                    const psj = JSON.parse(newStr);\n                    setDataStorage(psj);\n                    console.log(\"dataStorage\", psj);\n\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n\n        }, []);\n\n        async function getAllFilms() {\n            const response = await (await fetch(\n                requestMethod('/getAllFilms')\n            )).json();\n\n            return response;\n        }\n\n        function getCurrentFilms() {\n            return dataStorage.filter(Boolean);\n        }\n\n        async function targetList1() {\n            const currentFilmsIDs = JSON.stringify(\n                getCurrentFilms().map(_ => _.id)\n            );\n            \n            const film = (await axios.get(\n                requestMethod(\n                    `getFilmByFilters?genre=${genre}&year=${year}&isAnyYear=${!isAnyYear}&currentFilmsIDs=${currentFilmsIDs}`\n                )\n            )).data;\n\n            if (film.status !== 'success') {\n                setSearchError(true);\n            } else {\n                setId(film.message);\n                setSearchError(false);\n            }\n        }\n\n        function storyFavorites(e) {\n            console.log(\"storyFavorites:\");\n            e.preventDefault();\n            let url = \"https://vk.com/app7254171\";\n            const targetId = +e.currentTarget.id;\n            // const targetPhoto = dataStorage[targetId].photo;\n            const findTargetId = dataStorage.find(\n                item => item.id === targetId\n            );\n            const findTargetIdPhoto = findTargetId.photo;\n\n            console.log(\"targetId:\", targetId);\n            console.log(\"findTargetId:\", findTargetId);\n            console.log(\"findTargetIdPhoto:\", findTargetIdPhoto);\n\n            connect.sendPromise('VKWebAppShowStoryBox', {\n                \"background_type\": \"image\",\n                \"url\": findTargetIdPhoto,\n                \"attachment\": {\n                    \"text\": \"go_to\",\n                    \"type\": \"url\",\n                    \"url\": url\n                }\n            }).then(res => {\n                console.log(\"story res:\", res);\n            }).catch(error => {\n                console.log(\"story error:\", error);\n            });\n        }\n\n        function story() {\n            let url = \"https://vk.com/app7254171\";\n            connect.sendPromise('VKWebAppShowStoryBox', {\n                \"background_type\": \"image\",\n                \"url\": lastItem.photo,\n                \"attachment\": {\n                    \"text\": \"go_to\",\n                    \"type\": \"url\",\n                    \"url\": url\n                }\n            }).then(res => {\n                console.log(\"story res:\", res); // работает\n            }).catch(error => {\n                console.log(\"story error:\", error);\n            });\n        }\n\n        function addGroup() {\n            connect.send(\"VKWebAppJoinGroup\", {\"group_id\": 190534237});\n        }\n\n        // function share(e) {\n        //     // TODO: ДОБАВЛЕНИЕ РЕПОСТА НА СТЕНУ ПОЛЬЗОВАТЕЛЯ\n        //     e.preventDefault();\n        //     let url = \"https://vk.com/app7254171\";\n        //     const targetId = +e.currentTarget.id;\n        //     const findTargetId = dataStorage.find(\n        //         item => item.id === targetId\n        //     );\n        //     const findTargetIdPhoto = findTargetId.photo;\n        //     console.log(`${requestMethod('getVKPhotoById')}?id=${targetId}`);\n        //     fetch(\n        //         `${requestMethod('getVKPhotoById')}?id=${targetId}`\n        //     ).then((response) => {\n        //         return response.json()\n        //     }).then((json) => {\n        //         console.log('responseJSON:', json);\n\n        //         if (json.status !== 'success') {\n        //             return;\n        //         }\n\n        //         connect.send(\"VKWebAppShowWallPostBox\", {\n        //             \"message\": `Получи случайный фильм и поделись им с друзьями! Приложение - ${url}`,\n        //             \"attachments\": json.message\n        //         });\n        //     })\n        // }\n\n        function openBase () {\n            setPopout(<>\n                <ActionSheet onClose={() => setPopout(null)}>\n                    <ActionSheetItem autoclose onClick={document.qiwiPay}>\n                        Оплатить через QIWI\n                    </ActionSheetItem>\n                    <ActionSheetItem autoclose onClick={pay}>\n                        Оплатить через VK Pay\n                    </ActionSheetItem>\n                    <ActionSheetItem autoclose mode=\"cancel\">\n                        Отменить\n                    </ActionSheetItem>\n                </ActionSheet>\n            </>);\n          }\n\n\n        function pay() {\n            console.log('Вызвана функция pay');\n\n            connect.sendPromise('VKWebAppOpenPayForm', {\n                \"app_id\": 7254171,\n                \"action\": \"pay-to-group\",\n                \"params\": {\n                    \"amount\": 1,\n                    \"group_id\": 190534237    // моя 190534237\n                }\n            }).then(async (res) => {\n                if (res.status || res.result.status) {\n                    try {\n                        const response = (await axios.get(\n                            requestMethod(\n                                `checkTransaction?userId=${fetchedUser.id}`\n                            )\n                        )).data;\n                        \n                        if (response.status === 'success') {\n                            setPaymentStatus(true);\n                            console.log('ОПЛАТА ПРОШЛА 1');\n                            targetList1();\n                        } else {\n                            /**\n                             * Оплата не прошла\n                             * или ее не было\n                             */\n                        }\n                    } catch(error) {\n                        // Браузерная ошибка\n                    }\n                }\n            }).catch(error => {\n                console.log(error);\n            });\n        }\n\n\n        function setId(randomFirstId) {\n            dataStorage.push(randomFirstId);\n            setDataStorage(dataStorage);\n            const a = dataStorage[dataStorage.length - 1];\n            setLastItem(a);\n\n            const stringId = JSON.stringify(dataStorage);\n            // console.log(' setId dataFirst:', dataFirst);\n\n            connect.sendPromise(\"VKWebAppStorageSet\",\n                {\n                    \"key\": \"dataStorage\",\n                    \"value\": stringId\n                })\n                .then((res) => {\n                    console.log(res);\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n        }\n\n        function onChangeSlider(year) {\n            setYear(year);\n            console.log(\"setYear :\", year);\n        }\n\n        function handleChange(e) {\n            setGenre(e.target.value);\n            console.log(\"setGenre :\", genre);\n        }\n\n        function checkBoxOnClick() {\n            setIsAnyYear(!isAnyYear);\n\n            console.log(\"isAnyYear:\", isAnyYear)\n        }\n\n        function refreshStorage() {\n            connect.sendPromise(\"VKWebAppStorageSet\",\n                {\n                    \"key\": \"dataStorage\",\n                    \"value\": \"\"\n                })\n                .then((res) => {\n                    console.log(res);\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n        }\n\n        function tabHome() {\n            setActiveTab('home');\n        }\n\n        function tabFavorites() {\n            setActiveTab('favorites');\n        }\n\n        function tabAddFilms() {\n            setActiveTab('addFilms');\n        }\n\n        const go = e => {\n            setActivePanel(e.currentTarget.dataset.to);\n        };\n\n        return (\n            <View activePanel={activePanel}\n            popout={popout}\n            >\n                <Main id='main'\n                      dataStorage={dataStorage}\n                      activeTab={activeTab}\n                      tabHome={tabHome}\n                      tabFavorites={tabFavorites}\n                      targetList1={targetList1}\n                      count={count}\n                      maxDataLength={maxDataLength}\n                      lastItem={lastItem}\n                      fetchedUser={fetchedUser}\n                      refName={refName}\n                      ref_sourceName={ref_sourceName}\n                      tabAddFilms={tabAddFilms}\n                      searchError={searchError}\n                      handleChange={handleChange}\n                      genre={genre}\n                      year={year}\n                      onChangeSlider={onChangeSlider}\n                      storyFavorites={storyFavorites}\n                      addGroup={addGroup}\n                      isAnyYear={isAnyYear}\n                      checkBoxOnClick={checkBoxOnClick}\n                      story={story}\n                      getPlatform={getPlatform}\n                      pay={pay}\n                      networkStatus={networkStatus}\n                      updateConnection={updateConnection}\n                      fetchedUser={fetchedUser}\n                      openBase={openBase}\n                    // share={share}\n                    // updateTheme={updateTheme}\n                />\n                <Home id='home'\n                      go={go}/>\n                <Favorites id='favorites'\n                           go={go}\n\n                />\n                \n            </View>\n        );\n    }\n;\n\nexport default App;\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}