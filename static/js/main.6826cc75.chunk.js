(this.webpackJsonprandomCinema=this.webpackJsonprandomCinema||[]).push([[0],{121:function(e,t,a){e.exports=a(232)},232:function(e,t,a){"use strict";a.r(t);a(122),a(148),a(150),a(151),a(153),a(154),a(155),a(156),a(157),a(158),a(159),a(160),a(162),a(163),a(164),a(165),a(166),a(167),a(168),a(169),a(170),a(171),a(173),a(174),a(175),a(176),a(177),a(178),a(179),a(180),a(181),a(182),a(183),a(184),a(185),a(186),a(187),a(188),a(189),a(190);var n=a(0),o=a.n(n),r=a(74),c=a.n(r),l=a(16),s=a.n(l),i=a(78),u=a.n(i),m=a(8),p=a(77),g=a.n(p),d=(a(199),a(112)),h=a.n(d),f=a(76),b=a.n(f),v=a(50),E=a.n(v),y=a(58),O=a.n(y),j=a(14),S=a.n(j),k=a(113),F=a.n(k),C=a(114),N=a.n(C),I=a(57),x=a.n(I),V=a(116),w=a.n(V),A=a(119),K=a.n(A),W=a(48),P=a.n(W),_=a(49),G=a.n(_),X=a(75),L=a.n(X),T=(a(72),a(55)),J=a.n(T),U=function(e){var t=e.name,a=e.photo,n=e.year,r=e.idItem;return o.a.createElement(J.a,{top:!0},o.a.createElement(S.a,{className:"cardHome bg-color"},o.a.createElement(P.a,{className:"myItem",id:r,description:n,before:o.a.createElement(G.a,{type:"image",src:a,size:100})},t)))},z=(a(219),function(e){var t=e.name,a=e.photo,n=e.year,r=e.idItem,c=e.storyFavorites,l=(e.share,o.a.createElement(S.a,{id:r,onClick:c},o.a.createElement(L.a,{fill:"var(--accent)"})));return o.a.createElement(J.a,{top:!0},o.a.createElement(S.a,{className:"card bg-color"},o.a.createElement(P.a,{className:"myItem",id:r,description:n,before:o.a.createElement(G.a,{type:"image",src:a,size:100}),asideContent:l},t)))}),B=(a(220),a(115)),Z=a.n(B),D=a(117),H=a.n(D),R=a(118),M=a.n(R),Q=a(56),q=a.n(Q),Y=function(e){var t=e.id,a=e.dataStorage,n=(e.go,e.activeTab),r=e.tabHome,c=e.tabFavorites,l=(e.count,e.maxDataLength),s=e.lastItem,i=(e.pay,e.getPlatform),u=e.story,m=e.addGroup,p=e.targetList1,g=e.storyFavorites,d=e.onChangeSlider,f=e.sliderValue,v=e.checkBoxOnClick,y=(e.checkBox,e.selectValue,e.handleChange),j=e.searchError,k=e.tabAddFilms,C=e.ref_sourceName,I=e.refName,V=(e.updateTheme,e.fetchedUser,e.share,e.networkStatus),A=e.updateConnection,W=a.map((function(e){var t="".concat(e.year,",IMDb ").concat(e.rating);return o.a.createElement(z,{key:"itemFavorites"+e.id,idItem:e.id,photo:e.photo,name:e.name,year:t,storyFavorites:g})}));return o.a.createElement(h.a,{id:t},o.a.createElement(b.a,{noShadow:!0},"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435 \u043a\u0438\u043d\u043e"),o.a.createElement(F.a,{vertical:"top"},o.a.createElement(N.a,{className:"TabsDefaultUser"},o.a.createElement(x.a,{onClick:r,selected:"home"===n,className:"tabUser"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),o.a.createElement(x.a,{onClick:c,selected:"favorites"===n,className:"tabUser"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),o.a.createElement(x.a,{onClick:k,selected:"addFilms"===n,className:"tabUser"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))),V?o.a.createElement(S.a,{className:"divSpinner"},o.a.createElement(S.a,{className:"navigatorDiv"},"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 - \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435!"),o.a.createElement(q.a,{className:"navigator",onClick:A,align:"center"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c")):o.a.createElement(o.a.Fragment,null,"ios"===i?o.a.createElement(S.a,{className:"GroupIos"},"\u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 iOS"):o.a.createElement(o.a.Fragment,null,"home"===n&&!1===l?o.a.createElement(S.a,null,""!==s.length?o.a.createElement(U,{key:"itemHome"+s.id,idItem:s.id,photo:s.photo,name:s.name,year:s.year}):"",o.a.createElement(S.a,{className:"SliderDiv"},o.a.createElement(Z.a,null,o.a.createElement(w.a,{step:1,min:2e3,max:2019,value:Number(f),onChange:d,top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0434",bottom:"".concat(f)})),o.a.createElement(H.a,{onClick:v},"\u041b\u044e\u0431\u043e\u0439")),o.a.createElement(O.a,{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440"}),o.a.createElement(M.a,{onChange:y},o.a.createElement("option",{value:"\u041b\u044e\u0431\u043e\u0439"},"\u041b\u044e\u0431\u043e\u0439"),o.a.createElement("option",{value:"\u0431\u043e\u0435\u0432\u0438\u043a"},"\u0431\u043e\u0435\u0432\u0438\u043a"),o.a.createElement("option",{value:"\u0438\u0441\u0442\u043e\u0440\u0438\u044f"},"\u0438\u0441\u0442\u043e\u0440\u0438\u044f"),o.a.createElement("option",{value:"\u0434\u0440\u0430\u043c\u0430"},"\u0434\u0440\u0430\u043c\u0430"),o.a.createElement("option",{value:"\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"},"\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),o.a.createElement("option",{value:"\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"},"\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"),o.a.createElement("option",{value:"\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430"},"\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430")),j?o.a.createElement(O.a,null,o.a.createElement(q.a,{level:"danger"},"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u044b \u0441 \u0442\u0435\u043a\u0443\u0449\u0438\u043c\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0430")):"",o.a.createElement(O.a,{title:"\u041d\u0430\u0439\u0442\u0438 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c \u0437\u0430 1 \u0440\u0443\u0431"}),o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{level:"commerce",onClick:p,size:"xl",stretched:!0},"\u041d\u0430\u0439\u0442\u0438"),o.a.createElement(E.a,{className:"buttonAddGroup",level:"secondary",onClick:m,size:"xl",stretched:!0},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043d\u0430\u0448\u0443 \u0433\u0440\u0443\u043f\u043f\u0443"),o.a.createElement(E.a,{className:"buttonStory",level:"primary",onClick:u,size:"xl",stretched:!0},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"))):o.a.createElement(S.a,null,"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u044b !"),"home"===n&&!0===l?o.a.createElement(S.a,null,"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u044b !"):""),"favorites"===n?o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,null,W)):"",o.a.createElement(o.a.Fragment,null,"ios"===i?o.a.createElement(S.a,{className:"GroupIos"},"\u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 iOS"):o.a.createElement(o.a.Fragment,null,"addFilms"===n?o.a.createElement(S.a,null,o.a.createElement(S.a,null,o.a.createElement(K.a,{href:"https://vk.me/public190534237?ref=".concat(I,"&ref_source=").concat(C),target:"_blank"},o.a.createElement(E.a,{level:"commerce",size:"xl",stretched:!0},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))):""))))},$=a(120),ee=a.n($),te=function(){var e=Object(n.useState)("main"),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),l=Object(m.a)(c,2),i=l[0],p=l[1],d=Object(n.useState)("home"),h=Object(m.a)(d,2),f=h[0],b=h[1],v=Object(n.useState)(0),E=Object(m.a)(v,2),y=E[0],O=(E[1],Object(n.useState)([])),j=Object(m.a)(O,2),S=j[0],k=j[1],F=Object(n.useState)(!1),C=Object(m.a)(F,2),N=C[0],I=(C[1],Object(n.useState)([])),x=Object(m.a)(I,2),V=(x[0],x[1],Object(n.useState)("")),w=Object(m.a)(V,2),A=w[0],K=w[1],W=Object(n.useState)(),P=Object(m.a)(W,2),_=P[0],G=(P[1],Object(n.useState)("online")),X=Object(m.a)(G,2),L=(X[0],X[1],Object(n.useState)(!1)),T=Object(m.a)(L,2),J=(T[0],T[1]),B=Object(n.useState)(2e3),Z=Object(m.a)(B,2),D=Z[0],H=Z[1],R=Object(n.useState)(!0),M=Object(m.a)(R,2),Q=M[0],q=M[1],$=Object(n.useState)(!1),te=Object(m.a)($,2),ae=(te[0],te[1],Object(n.useState)("\u041b\u044e\u0431\u043e\u0439")),ne=Object(m.a)(ae,2),oe=ne[0],re=ne[1],ce=Object(n.useState)(!1),le=Object(m.a)(ce,2),se=le[0],ie=le[1],ue=Object(n.useState)("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),me=Object(m.a)(ue,2),pe=me[0],ge=(me[1],Object(n.useState)("\u0416\u0430\u043d\u0440")),de=Object(m.a)(ge,2),he=de[0],fe=(de[1],Object(n.useState)([])),be=Object(m.a)(fe,2),ve=be[0],Ee=be[1],ye=Object(n.useState)(!1),Oe=Object(m.a)(ye,2),je=Oe[0],Se=Oe[1],ke=Object(n.useState)({id:0,photo:"https://sun9-60.userapi.com/c855424/v855424816/1b98c7/NOZvWdKJbOY.jpg",name:"\u0416\u043c\u0438  - \u043d\u0430\u0439\u0442\u0438!"}),Fe=Object(m.a)(ke,2),Ce=Fe[0],Ne=Fe[1],Ie=window.navigator.onLine,xe=[{id:1,photo:"https://sun9-45.userapi.com/c858424/v858424367/125354/ZKnOXzfjdjM.jpg",name:"\u0413\u043b\u0430\u0434\u0438\u0430\u0442\u043e\u0440",year:2e3,rating:8.5,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u0438\u0441\u0442\u043e\u0440\u0438\u044f","\u0434\u0440\u0430\u043c\u0430","\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"],country:["\u0421\u0428\u0410","\u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0438\u044f","\u041c\u0430\u043b\u044c\u0442\u0430","\u041c\u0430\u0440\u043e\u043a\u043a\u043e"]},{id:2,photo:"https://sun9-39.userapi.com/c858424/v858424367/12535d/pda_FO1zfd8.jpg",name:"\u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u043a\u0443\u0448",year:2e3,rating:8.3,genre:["\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b","\u043a\u043e\u043c\u0435\u0434\u0438\u044f","\u0431\u043e\u0435\u0432\u0438\u043a"],country:["\u0421\u0428\u0410","\u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0438\u044f"]},{id:3,photo:"https://sun9-40.userapi.com/c858424/v858424367/125366/oy3WpXfk-Lw.jpg",name:"\u0418\u0437\u0433\u043e\u0439",year:2001,rating:7.8,genre:["\u0434\u0440\u0430\u043c\u0430","\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430","\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"],country:["\u0421\u0428\u0410"]},{id:4,photo:"https://sun9-43.userapi.com/c858424/v858424367/125377/P5Im2WTg0QQ.jpg",name:"\u0420\u0435\u043a\u0432\u0438\u0435\u043c \u043f\u043e \u043c\u0435\u0447\u0442\u0435",year:2001,rating:8.3,genre:["\u0434\u0440\u0430\u043c\u0430"],country:["\u0421\u0428\u0410"]},{id:5,photo:"https://sun9-47.userapi.com/c858424/v858424367/12537f/XFGFIOmLyRc.jpg",name:"\u0411\u0440\u0430\u0442 2",year:2002,rating:7.8,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0420\u043e\u0441\u0441\u0438\u044f","\u0421\u0428\u0410"]},{id:6,photo:"https://sun9-9.userapi.com/c858424/v858424367/12538e/KOZZrCJ8XXk.jpg",name:"\u041f\u043e\u043c\u043d\u0438",year:2002,rating:8.4,genre:["\u0442\u0440\u0438\u043b\u043b\u0435\u0440","\u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432","\u0434\u0440\u0430\u043c\u0430","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0421\u0428\u0410"]},{id:7,photo:"https://sun9-47.userapi.com/c858424/v858424367/12537f/XFGFIOmLyRc.jpg",name:"\u0411\u0440\u0430\u0442 2",year:2005,rating:7.8,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0420\u043e\u0441\u0441\u0438\u044f","\u0421\u0428\u0410"]},{id:8,photo:"https://sun9-9.userapi.com/c858424/v858424367/12538e/KOZZrCJ8XXk.jpg",name:"\u042f \u043b\u0435\u0433\u0435\u043d\u0434\u0430",year:2005,rating:8.4,genre:["\u0442\u0440\u0438\u043b\u043b\u0435\u0440","\u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432","\u0434\u0440\u0430\u043c\u0430","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0421\u0428\u0410"]},{id:9,photo:"https://sun9-47.userapi.com/c858424/v858424367/12537f/XFGFIOmLyRc.jpg",name:"\u041e\u0441\u0442\u0430\u0442\u044c\u0441\u044f \u0432 \u0436\u0438\u0432\u044b\u0445",year:2008,rating:7.8,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0420\u043e\u0441\u0441\u0438\u044f","\u0421\u0428\u0410"]},{id:10,photo:"https://sun9-9.userapi.com/c858424/v858424367/12538e/KOZZrCJ8XXk.jpg",name:"1 + 1",year:2008,rating:8.4,genre:["\u0442\u0440\u0438\u043b\u043b\u0435\u0440","\u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432","\u0434\u0440\u0430\u043c\u0430","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0421\u0428\u0410"]}];xe.length,xe.length;function Ve(){var e=ve.length-1,t=ve[e];t.length;console.log("lastArrMatchesFilter:",t);var a=t.filter((function(e){return void 0!==e}));console.log("arrFilmsFilter:",a),console.log("dataStorage:",S);for(var n=function(e){var t=a[e];if(void 0===S.find((function(e){return e.id===t.id})))return function(e){S.push(e),k(S);var t=S[S.length-1];Ne(t);var a=JSON.stringify(S);s.a.sendPromise("VKWebAppStorageSet",{key:"dataStorage",value:a}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(t),ie(!1),console.log("for TRUE:",t),"break";ie(!0),console.log("for else:",t),console.log("for else searchError:",se)},o=0;o<a.length;o++){if("break"===n(o))break}}Object(n.useEffect)((function(){Ie?(Se(!1),console.log("navigator",Ie)):(Se(!0),console.log("navigator",Ie))})),Object(n.useEffect)((function(){s.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var o=document.createAttribute("scheme");o.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(o)}})),function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(s.a.sendPromise("VKWebAppGetUserInfo"));case 2:e=t.sent,p(e);case 4:case"end":return t.stop()}}))}()}),[]),Object(n.useEffect)((function(){s.a.sendPromise("VKWebAppGetClientVersion").then((function(e){console.log("\u0412\u0415\u0420\u0421\u0418\u042f \u041f\u0420\u0418\u041b\u041e\u0416\u0415\u041d\u0418\u042f:",e),"ios"===e.platform&&K("ios")})).catch((function(e){console.log(e)})),s.a.sendPromise("VKWebAppStorageGet",{keys:["dataStorage"]}).then((function(e){var t=e.keys[0].value.replace(/&quot;/gi,'"'),a=JSON.parse(t);k(a)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=xe.map((function(e){var t=e.genre.find((function(e){return e===oe}));return Q||"\u041b\u044e\u0431\u043e\u0439"!==oe?Q||void 0===t?Q&&D===e.year&&void 0!==t?(console.log("\u0416\u0410\u041d\u0420 2:",oe),e):Q&&D===e.year&&"\u041b\u044e\u0431\u043e\u0439"===oe?(console.log("\u0416\u0410\u041d\u0420 2:",oe),e):void 0:(console.log("\u0416\u0410\u041d\u0420 2:",oe),e):(console.log("\u0416\u0410\u041d\u0420 1:",oe),e)}));ve.push(e),Ee(ve),console.log("useEffect matchesFilter:",ve)}));var we=function(e){r(e.currentTarget.dataset.to)};return o.a.createElement(ee.a,{isWebView:!0},o.a.createElement(g.a,{activePanel:a,popout:_},o.a.createElement(Y,{id:"main",dataStorage:S,activeTab:f,tabHome:function(){b("home")},tabFavorites:function(){b("favorites")},targetList1:Ve,count:y,maxDataLength:N,lastItem:Ce,fetchedUser:i,refName:pe,ref_sourceName:he,tabAddFilms:function(){b("addFilms")},searchError:se,handleChange:function(e){re(e.target.value),console.log("setSelectValue :",oe)},selectValue:oe,sliderValue:D,onChangeSlider:function(e){H(e),console.log("setSliderValue :",e)},storyFavorites:function(e){e.preventDefault();var t=+e.currentTarget.id,a=S.find((function(e){return e.id===t})),n=a.photo;console.log("targetId:",t),console.log("findTargetId:",a),console.log("findTargetIdPhoto:",n),s.a.sendPromise("VKWebAppShowStoryBox",{background_type:"image",url:n,attachment:{text:"go_to",type:"url",url:"https://vk.com/app7254171"}}).then((function(e){console.log("story res:",e)})).catch((function(e){console.log("story error:",e)}))},addGroup:function(){s.a.send("VKWebAppJoinGroup",{group_id:190534237})},checkBox:Q,checkBoxOnClick:function(){q(!Q),console.log("checkBox:",Q)},story:function(){s.a.sendPromise("VKWebAppShowStoryBox",{background_type:"image",url:Ce.photo,attachment:{text:"go_to",type:"url",url:"https://vk.com/app7254171"}}).then((function(e){console.log("story res:",e)})).catch((function(e){console.log("story error:",e)}))},getPlatform:A,pay:function(){s.a.sendPromise("VKWebAppOpenPayForm",{app_id:7254171,action:"pay-to-group",params:{amount:1,group_id:190534237}}).then((function(e){(e.status||e.result.status)&&(J(!0),console.log("\u041e\u041f\u041b\u0410\u0422\u0410 \u041f\u0420\u041e\u0428\u041b\u0410 1"),Ve(),console.log(e.status))})).catch((function(e){console.log(e)}))},networkStatus:je,updateConnection:function(){var e=window.navigator.onLine;Se(!e)}}),o.a.createElement(U,{id:"home",go:we}),o.a.createElement(z,{id:"favorites",go:we})))};s.a.send("VKWebAppInit"),c.a.render(o.a.createElement(te,null),document.getElementById("root"))},72:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.6826cc75.chunk.js.map