(this.webpackJsonprandomCinema=this.webpackJsonprandomCinema||[]).push([[0],{196:function(e,t,a){e.exports=a(446)},446:function(e,t,a){"use strict";a.r(t);a(197),a(223),a(225),a(226),a(228),a(229),a(230),a(231),a(232),a(233),a(234),a(235),a(237),a(238),a(239),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261),a(262),a(263),a(264),a(265);var n=a(0),o=a.n(n),r=a(114),c=a.n(r),s=a(17),l=a.n(s),i=a(118),u=a.n(i),m=a(9),p=a(117),d=a.n(p),g=(a(274),a(186)),h=a.n(g),f=a(116),b=a.n(f),v=a(66),y=a.n(v),E=a(85),O=a.n(E),j=a(15),S=a.n(j),k=a(187),C=a.n(k),N=a(188),F=a.n(N),I=a(84),w=a.n(I),x=a(190),A=a.n(x),K=a(193),P=a.n(K),W=a(64),V=a.n(W),_=a(65),G=a.n(_),B=a(115),X=a.n(B),J=(a(98),a(82)),L=a.n(J),T=function(e){var t=e.name,a=e.photo,n=e.year,r=e.idItem;return o.a.createElement(L.a,{top:!0},o.a.createElement(S.a,{className:"cardHome bg-color"},o.a.createElement(V.a,{className:"myItem",id:r,description:n,before:o.a.createElement(G.a,{type:"image",src:a,size:100})},t)))},z=(a(295),function(e){var t=e.name,a=e.photo,n=e.year,r=e.idItem,c=e.storyFavorites,s=(e.share,o.a.createElement(S.a,{id:r,onClick:c},o.a.createElement(X.a,{fill:"var(--accent)"})));return o.a.createElement(L.a,{top:!0},o.a.createElement(S.a,{className:"card bg-color"},o.a.createElement(V.a,{className:"myItem",id:r,description:n,before:o.a.createElement(G.a,{type:"image",src:a,size:100}),asideContent:s},t)))}),D=(a(296),a(189)),U=a.n(D),Z=a(191),Y=a.n(Z),H=a(192),R=a.n(H),M=a(83),Q=a.n(M),q=function(e){var t=e.id,a=e.dataStorage,n=(e.go,e.activeTab),r=e.tabHome,c=e.tabFavorites,s=(e.count,e.maxDataLength),l=e.lastItem,i=(e.pay,e.getPlatform),u=e.story,m=e.addGroup,p=e.targetList1,d=(e.storyFavorites,e.onChangeSlider),g=e.year,f=e.checkBoxOnClick,v=(e.isAnyYear,e.genre,e.handleChange),E=e.searchError,j=e.tabAddFilms,k=e.ref_sourceName,N=e.refName,I=(e.updateTheme,e.fetchedUser,e.share),x=e.networkStatus,K=e.updateConnection,W=(a=a.filter(Boolean)).map((function(e){var t="".concat(e.year,", IMDb ").concat(e.rating);return o.a.createElement(z,{key:"itemFavorites"+e.id,idItem:e.id,photo:e.photo,name:e.name,year:t,storyFavorites:I})}));return o.a.createElement(h.a,{id:t},o.a.createElement(b.a,{noShadow:!0},"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435 \u043a\u0438\u043d\u043e"),o.a.createElement(C.a,{vertical:"top"},o.a.createElement(F.a,{className:"TabsDefaultUser"},o.a.createElement(w.a,{onClick:r,selected:"home"===n,className:"tabUser"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),o.a.createElement(w.a,{onClick:c,selected:"favorites"===n,className:"tabUser"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"),o.a.createElement(w.a,{onClick:j,selected:"addFilms"===n,className:"tabUser"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))),x?o.a.createElement(S.a,{className:"divSpinner"},o.a.createElement(S.a,{className:"navigatorDiv"},"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 - \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435!"),o.a.createElement(Q.a,{className:"navigator",onClick:K,align:"center"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c")):o.a.createElement(o.a.Fragment,null,"home"===n&&!1===s?o.a.createElement(o.a.Fragment,null,"ios"===i?o.a.createElement(S.a,{className:"GroupIos"},"\u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 iOS"):o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,null,""!==l.length?o.a.createElement(T,{key:"itemHome"+l.id,idItem:l.id,photo:l.photo,name:l.name,year:l.year}):"",o.a.createElement(S.a,{className:"SliderDiv"},o.a.createElement(U.a,null,o.a.createElement(A.a,{step:1,min:2e3,max:2019,value:Number(g),onChange:d,top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0434",bottom:"".concat(g)})),o.a.createElement(Y.a,{onClick:f},"\u041b\u044e\u0431\u043e\u0439")),o.a.createElement(O.a,{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440"}),o.a.createElement(R.a,{onChange:v},o.a.createElement("option",{value:"\u041b\u044e\u0431\u043e\u0439"},"\u041b\u044e\u0431\u043e\u0439"),o.a.createElement("option",{value:"\u0431\u043e\u0435\u0432\u0438\u043a"},"\u0431\u043e\u0435\u0432\u0438\u043a"),o.a.createElement("option",{value:"\u0438\u0441\u0442\u043e\u0440\u0438\u044f"},"\u0438\u0441\u0442\u043e\u0440\u0438\u044f"),o.a.createElement("option",{value:"\u0434\u0440\u0430\u043c\u0430"},"\u0434\u0440\u0430\u043c\u0430"),o.a.createElement("option",{value:"\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"},"\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),o.a.createElement("option",{value:"\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"},"\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"),o.a.createElement("option",{value:"\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430"},"\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430")),E?o.a.createElement(O.a,null,o.a.createElement(Q.a,{level:"danger"},"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u044b \u0441 \u0442\u0435\u043a\u0443\u0449\u0438\u043c\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0430")):"",o.a.createElement(O.a,{title:"\u041d\u0430\u0439\u0442\u0438 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c \u0437\u0430 1 \u0440\u0443\u0431"}),o.a.createElement(o.a.Fragment,null,o.a.createElement(y.a,{level:"commerce",onClick:p,size:"xl",stretched:!0},"\u041d\u0430\u0439\u0442\u0438"),o.a.createElement(y.a,{className:"buttonAddGroup",level:"secondary",onClick:m,size:"xl",stretched:!0},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043d\u0430\u0448\u0443 \u0433\u0440\u0443\u043f\u043f\u0443"),o.a.createElement(y.a,{className:"buttonStory",level:"primary",onClick:u,size:"xl",stretched:!0},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"))))):o.a.createElement(S.a,null,"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u044b !"),"home"===n&&!0===s?o.a.createElement(S.a,null,"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u044b !"):"","favorites"===n?o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,null,W)):"",o.a.createElement(o.a.Fragment,null,"addFilms"===n?o.a.createElement(S.a,null,o.a.createElement(S.a,null,o.a.createElement(P.a,{href:"https://vk.me/public190534237?ref=".concat(N,"&ref_source=").concat(k),target:"_blank"},o.a.createElement(y.a,{level:"commerce",size:"xl",stretched:!0},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))):"")))},$=a(194),ee=a.n($),te=a(195),ae=a.n(te);var ne=function(e){return"https://random-cinema.tk/api/"+e},oe=function(){var e=Object(n.useState)("main"),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),s=Object(m.a)(c,2),i=s[0],p=s[1],g=Object(n.useState)("home"),h=Object(m.a)(g,2),f=h[0],b=h[1],v=Object(n.useState)(0),y=Object(m.a)(v,2),E=y[0],O=(y[1],Object(n.useState)([])),j=Object(m.a)(O,2),S=j[0],k=j[1],C=Object(n.useState)(!1),N=Object(m.a)(C,2),F=N[0],I=(N[1],Object(n.useState)([])),w=Object(m.a)(I,2),x=(w[0],w[1],Object(n.useState)("")),A=Object(m.a)(x,2),K=A[0],P=A[1],W=Object(n.useState)(),V=Object(m.a)(W,2),_=V[0],G=(V[1],Object(n.useState)("online")),B=Object(m.a)(G,2),X=(B[0],B[1],Object(n.useState)(!1)),J=Object(m.a)(X,2),L=(J[0],J[1]),D=Object(n.useState)(2e3),U=Object(m.a)(D,2),Z=U[0],Y=U[1],H=Object(n.useState)(!0),R=Object(m.a)(H,2),M=R[0],Q=R[1],$=Object(n.useState)(!1),te=Object(m.a)($,2),oe=(te[0],te[1],Object(n.useState)("\u041b\u044e\u0431\u043e\u0439")),re=Object(m.a)(oe,2),ce=re[0],se=re[1],le=Object(n.useState)(!1),ie=Object(m.a)(le,2),ue=ie[0],me=ie[1],pe=Object(n.useState)("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),de=Object(m.a)(pe,2),ge=de[0],he=(de[1],Object(n.useState)("\u0416\u0430\u043d\u0440")),fe=Object(m.a)(he,2),be=fe[0],ve=(fe[1],Object(n.useState)([])),ye=Object(m.a)(ve,2),Ee=(ye[0],ye[1],Object(n.useState)(!1)),Oe=Object(m.a)(Ee,2),je=Oe[0],Se=Oe[1],ke=Object(n.useState)({id:0,photo:"https://sun9-60.userapi.com/c855424/v855424816/1b98c7/NOZvWdKJbOY.jpg",name:"\u0416\u043c\u0438  - \u043d\u0430\u0439\u0442\u0438!"}),Ce=Object(m.a)(ke,2),Ne=Ce[0],Fe=Ce[1],Ie=[{id:1,photo:"https://sun9-45.userapi.com/c858424/v858424367/125354/ZKnOXzfjdjM.jpg",name:"\u0413\u043b\u0430\u0434\u0438\u0430\u0442\u043e\u0440",year:2e3,rating:8.5,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u0438\u0441\u0442\u043e\u0440\u0438\u044f","\u0434\u0440\u0430\u043c\u0430","\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"],country:["\u0421\u0428\u0410","\u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0438\u044f","\u041c\u0430\u043b\u044c\u0442\u0430","\u041c\u0430\u0440\u043e\u043a\u043a\u043e"]},{id:2,photo:"https://sun9-39.userapi.com/c858424/v858424367/12535d/pda_FO1zfd8.jpg",name:"\u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u043a\u0443\u0448",year:2e3,rating:8.3,genre:["\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b","\u043a\u043e\u043c\u0435\u0434\u0438\u044f","\u0431\u043e\u0435\u0432\u0438\u043a"],country:["\u0421\u0428\u0410","\u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0438\u044f"]},{id:3,photo:"https://sun9-40.userapi.com/c858424/v858424367/125366/oy3WpXfk-Lw.jpg",name:"\u0418\u0437\u0433\u043e\u0439",year:2001,rating:7.8,genre:["\u0434\u0440\u0430\u043c\u0430","\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430","\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"],country:["\u0421\u0428\u0410"]},{id:4,photo:"https://sun9-43.userapi.com/c858424/v858424367/125377/P5Im2WTg0QQ.jpg",name:"\u0420\u0435\u043a\u0432\u0438\u0435\u043c \u043f\u043e \u043c\u0435\u0447\u0442\u0435",year:2001,rating:8.3,genre:["\u0434\u0440\u0430\u043c\u0430"],country:["\u0421\u0428\u0410"]},{id:5,photo:"https://sun9-47.userapi.com/c858424/v858424367/12537f/XFGFIOmLyRc.jpg",name:"\u0411\u0440\u0430\u0442 2",year:2002,rating:7.8,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0420\u043e\u0441\u0441\u0438\u044f","\u0421\u0428\u0410"]},{id:6,photo:"https://sun9-9.userapi.com/c858424/v858424367/12538e/KOZZrCJ8XXk.jpg",name:"\u041f\u043e\u043c\u043d\u0438",year:2002,rating:8.4,genre:["\u0442\u0440\u0438\u043b\u043b\u0435\u0440","\u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432","\u0434\u0440\u0430\u043c\u0430","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0421\u0428\u0410"]},{id:7,photo:"https://sun9-47.userapi.com/c858424/v858424367/12537f/XFGFIOmLyRc.jpg",name:"\u0411\u0440\u0430\u0442 2",year:2005,rating:7.8,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0420\u043e\u0441\u0441\u0438\u044f","\u0421\u0428\u0410"]},{id:8,photo:"https://sun9-9.userapi.com/c858424/v858424367/12538e/KOZZrCJ8XXk.jpg",name:"\u042f \u043b\u0435\u0433\u0435\u043d\u0434\u0430",year:2005,rating:8.4,genre:["\u0442\u0440\u0438\u043b\u043b\u0435\u0440","\u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432","\u0434\u0440\u0430\u043c\u0430","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0421\u0428\u0410"]},{id:9,photo:"https://sun9-47.userapi.com/c858424/v858424367/12537f/XFGFIOmLyRc.jpg",name:"\u041e\u0441\u0442\u0430\u0442\u044c\u0441\u044f \u0432 \u0436\u0438\u0432\u044b\u0445",year:2008,rating:7.8,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0420\u043e\u0441\u0441\u0438\u044f","\u0421\u0428\u0410"]},{id:10,photo:"https://sun9-9.userapi.com/c858424/v858424367/12538e/KOZZrCJ8XXk.jpg",name:"1 + 1",year:2008,rating:8.4,genre:["\u0442\u0440\u0438\u043b\u043b\u0435\u0440","\u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432","\u0434\u0440\u0430\u043c\u0430","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0421\u0428\u0410"]}],we=window.navigator.onLine;function xe(){console.log("dataStorage",S);var e=Ie.filter(Boolean),t=S.filter(Boolean),a=[],n=!0,o=!1,r=void 0;try{for(var c,s=function(){var e=c.value;t.find((function(t){return t.id===e.id}))||a.push(e)},i=e[Symbol.iterator]();!(n=(c=i.next()).done);n=!0)s()}catch(p){o=!0,r=p}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}var u={};M&&(u.year=Z),"\u041b\u044e\u0431\u043e\u0439"!==ce&&(u.genre=[ce]);var m=ae.a.filter(a,u);m.length?(!function(e){S.push(e),k(S);var t=S[S.length-1];Fe(t);var a=JSON.stringify(S);l.a.sendPromise("VKWebAppStorageSet",{key:"dataStorage",value:a}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(m[ee()(0,m.length-1)]),me(!1)):me(!0)}Object(n.useEffect)((function(){we?(Se(!1),console.log("checkNetworkStatus",we)):(Se(!0),console.log("checkNetworkStatus",we))})),Object(n.useEffect)((function(){l.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var o=document.createAttribute("scheme");o.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(o)}})),function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(l.a.sendPromise("VKWebAppGetUserInfo"));case 2:e=t.sent,p(e);case 4:case"end":return t.stop()}}))}()}),[]),Object(n.useEffect)((function(){l.a.sendPromise("VKWebAppGetClientVersion").then((function(e){console.log("\u0412\u0415\u0420\u0421\u0418\u042f \u041f\u0420\u0418\u041b\u041e\u0416\u0415\u041d\u0418\u042f:",e),"ios"===e.platform&&P("ios")})).catch((function(e){console.log(e)})),l.a.sendPromise("VKWebAppStorageGet",{keys:["dataStorage"]}).then((function(e){var t=e.keys[0].value.replace(/&quot;/gi,'"'),a=JSON.parse(t);k(a),console.log("dataStorage",a)})).catch((function(e){console.log(e)}))}),[]);var Ae=function(e){r(e.currentTarget.dataset.to)};return o.a.createElement(d.a,{activePanel:a,popout:_},o.a.createElement(q,{id:"main",dataStorage:S,activeTab:f,tabHome:function(){b("home")},tabFavorites:function(){b("favorites")},targetList1:xe,count:E,maxDataLength:F,lastItem:Ne,fetchedUser:i,refName:ge,ref_sourceName:be,tabAddFilms:function(){b("addFilms")},searchError:ue,handleChange:function(e){se(e.target.value),console.log("setGenre :",ce)},genre:ce,year:Z,onChangeSlider:function(e){Y(e),console.log("setYear :",e)},storyFavorites:function(e){e.preventDefault();var t=+e.currentTarget.id,a=S.find((function(e){return e.id===t})),n=a.photo;console.log("targetId:",t),console.log("findTargetId:",a),console.log("findTargetIdPhoto:",n),l.a.sendPromise("VKWebAppShowStoryBox",{background_type:"image",url:n,attachment:{text:"go_to",type:"url",url:"https://vk.com/app7254171"}}).then((function(e){console.log("story res:",e)})).catch((function(e){console.log("story error:",e)}))},addGroup:function(){l.a.send("VKWebAppJoinGroup",{group_id:190534237})},isAnyYear:M,checkBoxOnClick:function(){Q(!M),console.log("isAnyYear:",M)},story:function(){l.a.sendPromise("VKWebAppShowStoryBox",{background_type:"image",url:Ne.photo,attachment:{text:"go_to",type:"url",url:"https://vk.com/app7254171"}}).then((function(e){console.log("story res:",e)})).catch((function(e){console.log("story error:",e)}))},getPlatform:K,pay:function(){l.a.sendPromise("VKWebAppOpenPayForm",{app_id:7254171,action:"pay-to-group",params:{amount:1,group_id:190534237}}).then((function(e){(e.status||e.result.status)&&(L(!0),console.log("\u041e\u041f\u041b\u0410\u0422\u0410 \u041f\u0420\u041e\u0428\u041b\u0410 1"),xe(),console.log(e.status))})).catch((function(e){console.log(e)}))},networkStatus:je,updateConnection:function(){var e=window.navigator.onLine;Se(!e)},share:function(e){e.preventDefault();var t=+e.currentTarget.id;S.find((function(e){return e.id===t})).photo,console.log("".concat(ne("getVKPhotoById"),"?id=").concat(t)),fetch("".concat(ne("getVKPhotoById"),"?id=").concat(t)).then((function(e){return e.json()})).then((function(e){console.log("responseJSON:",e),"success"===e.status&&l.a.send("VKWebAppShowWallPostBox",{message:"\u041f\u043e\u043b\u0443\u0447\u0438 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c \u0438 \u043f\u043e\u0434\u0435\u043b\u0438\u0441\u044c \u0438\u043c \u0441 \u0434\u0440\u0443\u0437\u044c\u044f\u043c\u0438! \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 - ".concat("https://vk.com/app7254171"),attachments:e.message})}))}}),o.a.createElement(T,{id:"home",go:Ae}),o.a.createElement(z,{id:"favorites",go:Ae}))};l.a.send("VKWebAppInit"),c.a.render(o.a.createElement(oe,null),document.getElementById("root"))},98:function(e,t,a){}},[[196,1,2]]]);
//# sourceMappingURL=main.2e0b68fb.chunk.js.map