{"version":3,"sources":["panels/Home.js","panels/Favorites.js","panels/Main.js","App.js","index.js"],"names":["Home","name","photo","year","idItem","top","className","id","description","before","type","src","size","Favorites","Main","dataStorage","activeTab","go","tabHome","tabFavorites","count","maxDataLength","lastItem","pay","renderFavorites","map","item","key","console","log","vertical","theme","onClick","selected","length","level","stretched","style","margin","App","useState","activePanel","setActivePanel","fetchedUser","setActiveTab","setCount","setDataStorage","setMaxDataLength","dataFirst","setLastItem","setPaymentStatus","data","min","arrLength","differenceData","getRandomInt","max","Math","ceil","floor","random","targetList1","randomFirst","randomFirstId","undefined","find","setId","targetList2","findRandomFirst3","push","a","stringId","JSON","stringify","connect","sendPromise","then","res","catch","error","useEffect","subscribe","detail","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","newStr","keys","replace","psj","parse","e","currentTarget","dataset","to","status","result","send","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2705db35.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\n// import styles from \"./App.module.sass\";\nimport styles from \"../styles/custom-styles.sass\";\nimport Fake from 'react-reveal';\n\nconst Home = ({name, photo, year, idItem}) => {\n\n\n    return (\n        <Fake top>\n            <Div className='card bg-color'>\n                    <Cell\n                        className='myItem'\n                        id={idItem}\n                        description={year}\n                        before={<Avatar\n                            type=\"image\"\n                            src={photo}\n                            size={140}\n                        />}\n                    >\n                        {name}\n                    </Cell>\n            </Div>\n        </Fake>\n    )\n};\n\n\nexport default Home;\n\n\n\n\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\r\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\n// import styles from \"./App.module.sass\";\r\nimport styles from \"../styles/custom-styles.sass\";\r\nimport Fake from 'react-reveal';\r\n\r\nconst Favorites = ({name, photo, year, idItem}) => {\r\n\r\n\r\n    return (\r\n        <Fake top>\r\n            <Div className='card bg-color'>\r\n                <Cell\r\n                    className='myItem'\r\n                    id={idItem}\r\n                    description={year}\r\n                    before={<Avatar\r\n                        type=\"image\"\r\n                        src={photo}\r\n                        size={140}\r\n                    />}\r\n                >\r\n                    {name}\r\n                </Cell>\r\n            </Div>\r\n        </Fake>\r\n    )\r\n};\r\n\r\n\r\nexport default Favorites;\r\n\r\n\r\n\r\n\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport List from '@vkontakte/vkui/dist/components/List/List';\nimport FixedLayout from '@vkontakte/vkui/dist/components/FixedLayout/FixedLayout';\nimport Tabs from '@vkontakte/vkui/dist/components/Tabs/Tabs';\nimport TabsItem from '@vkontakte/vkui/dist/components/TabsItem/TabsItem';\nimport HorizontalScroll from '@vkontakte/vkui/dist/components/HorizontalScroll/HorizontalScroll';\nimport PanelHeaderBack from \"@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack\";\nimport Home from './Home';\nimport Favorites from './Favorites';\n// import styles from \"../styles/App.module.sass\";\nimport styles from \"../styles/custom-styles.sass\";\n\nconst Main = ({id, dataStorage, go, activeTab, tabHome, tabFavorites, count, maxDataLength, lastItem,pay}) => {\n\n\n    // const index = dataStorage.length;\n    // const renderHome = dataStorage.slice(index-1, index).map((item) => {\n    //     return (\n    //         <Home\n    //             key={'itemFavorites' + item.id}\n    //             idItem={item.id}\n    //             photo={item.photo}\n    //             name={item.name}\n    //             year={item.year}\n    //         />\n    //     );\n    // });\n\n    // const renderHome = lastItem.map(item => {\n    //     return (\n    //         <Home\n    //             key={'itemHome' + item.id}\n    //             idItem={item.id}\n    //             photo={item.photo}\n    //             name={item.name}\n    //             year={item.year}\n    //         />\n    //     );\n    // });\n\n\n    const renderFavorites = dataStorage.map(item => {\n        return (\n            <Favorites\n                key={'itemFavorites' + item.id}\n                idItem={item.id}\n                photo={item.photo}\n                name={item.name}\n                year={item.year}\n            />\n        );\n    });\n\n    console.log(\"lastItem\", lastItem);\n    return (\n        <Panel id={id}>\n            <PanelHeader>Случайное кино</PanelHeader>\n            <FixedLayout vertical=\"top\">\n                <Tabs theme=\"header\" type=\"buttons\">\n                    <HorizontalScroll>\n                        <TabsItem\n                            onClick={tabHome}\n                            selected={activeTab === 'home'}\n                        >\n                            Главная\n                        </TabsItem>\n                        <TabsItem\n                            onClick={tabFavorites}\n                            selected={activeTab === 'favorites'}\n                        >\n                            Мои фильмы\n                        </TabsItem>\n                    </HorizontalScroll>\n                </Tabs>\n            </FixedLayout>\n\n\n            {activeTab === 'home' && maxDataLength === false\n                ?\n                <Div>\n                    <Div>\n                        Нажатий: {count}\n                    </Div>\n\n                    {lastItem.length !== ''\n                        ?\n                        <Home\n                            key={'itemHome' + lastItem.id}\n                            idItem={lastItem.id}\n                            photo={lastItem.photo}\n                            name={lastItem.name}\n                            year={lastItem.year}\n                        />\n                        :\n                        ''\n                    }\n\n                    <Div className=\"button\">\n                        <Button level=\"commerce\" onClick={pay} size=\"xl\" stretched\n                                style={{margin: 40}}>Найти за 1 руб</Button>\n                    </Div>\n                </Div>\n                :\n                <Div>\n                    Вы получили все фильмы !\n                </Div>\n\n            }\n\n            {activeTab === 'home' && maxDataLength === true\n                ?\n                <Div>\n                    <Div>\n                        Вы получили все фильмы !\n                    </Div>\n                </Div>\n                :\n                ''\n\n            }\n\n\n            {activeTab === 'favorites'\n                ?\n                <Div>\n                    {renderFavorites}\n                </Div>\n                :\n                ''\n            }\n\n        </Panel>\n\n    );\n};\n\n\nexport default Main;\n\n\n","import React, {useState, useEffect} from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Main from './panels/Main';\nimport Home from './panels/Home';\nimport Favorites from './panels/Favorites';\n\nconst App = () => {\n        const [activePanel, setActivePanel] = useState('main');\n        const [fetchedUser, setUser] = useState(null);\n        const [activeTab, setActiveTab] = useState('home');\n        const [count, setCount] = useState(0);\n        const [dataStorage, setDataStorage] = useState([]);\n        const [maxDataLength, setMaxDataLength] = useState(false);\n        const [dataFirst, setDataFirst] = useState([]);\n        const [lastItem, setLastItem] = useState(\n            {id: 0,\n                photo: \"https://sun9-17.userapi.com/c854524/v854524232/1ab0cc/YP4_Xic08oY.jpg\",\n                name: \"Чтобы получить случайный фильм, нажмите кнопку ниже\"\n                });\n        const [paymentStatus, setPaymentStatus] = useState(false);\n\n\n        const data = [\n            {\n                id: 1,\n                photo: \"https://st.kp.yandex.net/images/film_big/1188529.jpg\",\n                name: \"Достать ножи Достать ножи Достать ножи Достать ножи\",\n                year: 2019\n            },\n            {\n                id: 2,\n                photo: \"https://st.kp.yandex.net/images/film_big/1207545.jpg\",\n                name: \"Курьер\",\n                year: 2019\n            },\n            {\n                id: 3,\n                photo: \"https://st.kp.yandex.net/images/film_big/835086.jpg\",\n                name: \"Ford против Ferrari\",\n                year: 2019\n            },\n            {\n                id: 4,\n                photo: \"https://st.kp.yandex.net/images/film_big/837737.jpg\",\n                name: \"Сиротский Бруклин\",\n                year: 2019\n            },\n            {\n                id: 5,\n                photo: \"https://sun9-64.userapi.com/c204716/v204716471/1c563/J4xlZLC9Yeg.jpg\",\n                name: \"Ванильное небо\",\n                year: 2001\n            },\n            {\n                id: 6,\n                photo: \"https://sun9-20.userapi.com/c204724/v204724471/1cf8a/-ubqon4oJF0.jpg\",\n                name: \"Искусственный разум\",\n                year: 2001\n            }\n        ];\n        const min = 1;\n        const arrLength = data.length + 1;\n        const differenceData = data.length;\n\n\n        //const [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\n        useEffect(() => {\n            connect.subscribe(({detail: {type, data}}) => {\n                if (type === 'VKWebAppUpdateConfig') {\n                    const schemeAttribute = document.createAttribute('scheme');\n                    schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n                    document.body.attributes.setNamedItem(schemeAttribute);\n                }\n            });\n\n\n            connect.sendPromise('VKWebAppStorageGet',\n                {\n                    'keys': ['dataStorage']\n                })\n                .then((res) => {\n                    const re = /&quot;/gi;\n                    let str = res.keys[0].value;\n                    const newStr = str.replace(re, '\"');\n                    const psj = JSON.parse(newStr);\n                    setDataStorage(psj);\n\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n\n            // fetchData();\n        }, []);\n\n\n        function getRandomInt(min, max) {\n            min = Math.ceil(min);\n            max = Math.floor(max);\n            return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается\n        }\n\n        function targetList1() {\n            console.log(' targetList1 lastItem:', lastItem);\n            const randomFirst = getRandomInt(min, arrLength);\n            const randomFirstId = data[randomFirst - 1];\n            setCount(count + 1);\n\n            if (dataStorage.length <= 0) {\n                const findRandomFirst2 = dataStorage.find(\n                    item => item.id === randomFirstId.id\n                );\n\n                if (findRandomFirst2 === undefined && dataStorage.length !== differenceData) {\n                    setId(randomFirstId);\n                } else {\n                    targetList2();\n                    setMaxDataLength(true);\n                }\n            } else {\n                const findRandomFirst3 = dataStorage.find(\n                    item => item.id === randomFirstId.id\n                );\n                if (dataStorage.length !== differenceData) {\n                    if (findRandomFirst3 === undefined) {\n                        setId(randomFirstId);\n                    } else {\n                        targetList2();\n                    }\n                } else {\n                    // refreshStorage();\n                    setMaxDataLength(true);\n                }\n            }\n        }\n\n\n        function pay() {\n            connect.sendPromise('VKWebAppOpenPayForm', {\n                \"app_id\": 7254171,\n                \"action\": \"pay-to-group\",\n                \"params\": {\n                    \"amount\": 1,\n                    \"group_id\": 189804850   // 189974647\n                }\n            }).then(res => {\n                if (res.status || res.result.status) {\n                    setPaymentStatus(true);\n                    console.log('ОПЛАТА ПРОШЛА 1');\n                    targetList1();\n\n                    console.log(res.status); // работает\n                }\n            }).catch(error => {\n                console.log(error);\n            });\n        }\n\n\n        function targetList2() {\n            console.log(' targetList1 lastItem:', lastItem);\n            const randomFirst = getRandomInt(min, arrLength);\n            const randomFirstId = data[randomFirst - 1];\n\n            const findRandomFirst3 = dataStorage.find(\n                item => item.id === randomFirstId.id\n            );\n\n            if (dataStorage.length !== differenceData) {\n                if (findRandomFirst3 === undefined) {\n                    setId(randomFirstId);\n                } else {\n                    targetList1();\n                }\n            } else {\n                // refreshStorage();\n                setMaxDataLength(true);\n                console.log(\" 0000 maxDataLength:\", maxDataLength);\n            }\n        }\n\n\n        function setId(randomFirstId) {\n            dataStorage.push(randomFirstId);\n            setDataStorage(dataStorage);\n            const a = dataStorage[dataStorage.length - 1];\n            setLastItem(a);\n\n            const stringId = JSON.stringify(dataStorage);\n            console.log(' setId dataFirst:', dataFirst);\n\n            connect.sendPromise(\"VKWebAppStorageSet\",\n                {\n                    \"key\": \"dataStorage\",\n                    \"value\": stringId\n                })\n                .then((res) => {\n                    console.log(res);\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n        }\n\n// function lastDataStorage() {\n//     const lastItemDataStorage = returnLastItem(dataStorage);\n//     lastItem.push(lastItemDataStorage);\n//     // setLastItem(lastItem);\n//     if (lastItem.length >= 2) {\n//         const itemSplice =  lastItem.splice(0, 1); // начиная с позиции 1, удалить 1 элемент\n//         console.log(' lastDataStorage itemSplice:', itemSplice);\n//         lastItem.push(itemSplice);\n//         // setLastItem(itemSplice);\n//     }\n//\n//     console.log(' lastDataStorage lastItemDataStorage:', lastItemDataStorage);\n//     console.log(' lastDataStorage lastItem:', lastItem);\n//     console.log(' lastDataStorage lastItem[0].id:', lastItem.id);\n// }\n\n        function refreshStorage() {\n            connect.sendPromise(\"VKWebAppStorageSet\",\n                {\n                    \"key\": \"dataStorage\",\n                    \"value\": \"\"\n                })\n                .then((res) => {\n                    console.log(res);\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n        }\n\n\n        function returnLastItem(arr) {\n            return arr[arr.length - 1];\n        }\n\n        function tabHome() {\n            setActiveTab('home');\n        }\n\n        function tabFavorites() {\n            setActiveTab('favorites');\n        }\n\n        const go = e => {\n            setActivePanel(e.currentTarget.dataset.to);\n        };\n\n\n        return (\n            <View activePanel={activePanel}>\n                <Main id='main'\n                      fetchedUser={fetchedUser}\n                      dataStorage={dataStorage}\n                      activeTab={activeTab}\n                      tabHome={tabHome}\n                      tabFavorites={tabFavorites}\n                      targetList1={targetList1}\n                      count={count}\n                      maxDataLength={maxDataLength}\n                      lastItem={lastItem}\n                      pay={pay}\n                />\n                <Home id='home'\n                      fetchedUser={fetchedUser}\n                      go={go}/>\n                <Favorites id='favorites'\n                           go={go}/>\n            </View>\n        );\n    }\n;\n\nexport default App;\n\n// {\n//     id: 5,\n//     photo: \"https://st.kp.yandex.net/images/film_big/1174226.jpg\",\n//     name: \"21 мост\",\n//     year: \"2019\"\n// },\n// {\n//     id: 6,\n//     photo: \"https://st.kp.yandex.net/images/film_big/1280515.jpg\",\n//     name: \"Решала. Нулевые\",\n//     year: \"2019\"\n// },\n// {\n//     id: 7,\n//     photo: \"https://st.kp.yandex.net/images/film_big/680851.jpg\",\n//     name: \"Война токов\",\n//     year: \"2019\"\n// },\n// {\n//     id: 8,\n//     photo: \"https://st.kp.yandex.net/images/film_big/718222.jpg\",\n//     name: \"Звёздные войны: Скайуокер. Восход\",\n//     year: \"2019\"\n// }","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}