(this.webpackJsonprandomCinema=this.webpackJsonprandomCinema||[]).push([[0],{111:function(e,t,a){e.exports=a(219)},219:function(e,t,a){"use strict";a.r(t);a(112),a(138),a(140),a(141),a(143),a(144),a(145),a(146),a(147),a(148),a(149),a(150),a(152),a(153),a(154),a(155),a(156),a(157),a(158),a(159),a(160),a(161),a(163),a(164),a(165),a(166),a(167),a(168),a(169),a(170),a(171),a(172),a(173),a(174),a(175),a(176),a(177),a(178),a(179),a(180);var n=a(0),o=a.n(n),c=a(73),r=a.n(c),i=a(22),l=a.n(i),s=a(18),m=a(74),u=a.n(m),d=(a(188),a(54)),p=a.n(d),g=a(45),h=a.n(g),f=a(46),b=a.n(f),v=a(12),y=a.n(v),E=a(108),j=a.n(E),O=a(109),S=a.n(O),I=a(75),k=a.n(I),x=a(110),N=a.n(x),P=a(56),C=a.n(P),F=a(57),_=a.n(F),A=(a(71),a(55)),L=a.n(A),V=function(e){var t=e.name,a=e.photo,n=e.year,c=e.idItem;return o.a.createElement(L.a,{top:!0},o.a.createElement(y.a,{className:"card bg-color"},o.a.createElement(C.a,{className:"myItem",id:c,description:n,before:o.a.createElement(_.a,{type:"image",src:a,size:140})},t)))},J=function(e){var t=e.name,a=e.photo,n=e.year,c=e.idItem;return o.a.createElement(L.a,{top:!0},o.a.createElement(y.a,{className:"card bg-color"},o.a.createElement(C.a,{className:"myItem",id:c,description:n,before:o.a.createElement(_.a,{type:"image",src:a,size:140})},t)))},K=function(e){var t=e.id,a=e.dataStorage,n=(e.go,e.activeTab),c=e.tabHome,r=e.tabFavorites,i=e.count,l=e.maxDataLength,s=e.lastItem,m=e.pay,u=e.getPlatform,d=a.map((function(e){return o.a.createElement(J,{key:"itemFavorites"+e.id,idItem:e.id,photo:e.photo,name:e.name,year:e.year})}));return console.log("lastItem",s),o.a.createElement(p.a,{id:t},o.a.createElement(h.a,null,"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435 \u043a\u0438\u043d\u043e"),o.a.createElement(j.a,{vertical:"top"},o.a.createElement(S.a,{theme:"header",type:"buttons"},o.a.createElement(N.a,null,o.a.createElement(k.a,{onClick:c,selected:"home"===n},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),o.a.createElement(k.a,{onClick:r,selected:"favorites"===n},"\u041c\u043e\u0438 \u0444\u0438\u043b\u044c\u043c\u044b")))),"home"===n&&!1===l?o.a.createElement(y.a,null,o.a.createElement(y.a,null,"\u041d\u0430\u0436\u0430\u0442\u0438\u0439: ",i),""!==s.length?o.a.createElement(V,{key:"itemHome"+s.id,idItem:s.id,photo:s.photo,name:s.name,year:s.year}):"","iOS"===u?o.a.createElement(y.a,{className:"button"},o.a.createElement(b.a,{level:"commerce",onClick:m,size:"xl",stretched:!0,style:{margin:40}},"\u041d\u0430\u0439\u0442\u0438 \u0437\u0430 1 \u0440\u0443\u0431")):o.a.createElement(y.a,{className:"button"},o.a.createElement(y.a,{className:"divButton"},"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043f\u043b\u0430\u0442\u0435\u0436\u0438 \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u0435\u0440\u0432\u0438\u0441\u0435 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 iOS"),o.a.createElement(b.a,{level:"disabled",size:"xl",stretched:!0,style:{margin:40}},"\u041d\u0430\u0439\u0442\u0438 \u0437\u0430 1 \u0440\u0443\u0431"))):o.a.createElement(y.a,null,"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u044b !"),"home"===n&&!0===l?o.a.createElement(y.a,null,o.a.createElement(y.a,null,"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u044b !")):"","favorites"===n?o.a.createElement(y.a,null,d):"")},W=function(){var e=Object(n.useState)("main"),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(s.a)(r,2),m=i[0],d=(i[1],Object(n.useState)("home")),p=Object(s.a)(d,2),g=p[0],h=p[1],f=Object(n.useState)(0),b=Object(s.a)(f,2),v=b[0],y=b[1],E=Object(n.useState)([]),j=Object(s.a)(E,2),O=j[0],S=j[1],I=Object(n.useState)(!1),k=Object(s.a)(I,2),x=k[0],N=k[1],P=Object(n.useState)([]),C=Object(s.a)(P,2),F=C[0],_=(C[1],Object(n.useState)("")),A=Object(s.a)(_,2),L=A[0],W=A[1],z=Object(n.useState)({id:0,photo:"https://sun9-17.userapi.com/c854524/v854524232/1ab0cc/YP4_Xic08oY.jpg",name:"\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 \u043d\u0438\u0436\u0435"}),M=Object(s.a)(z,2),D=M[0],H=M[1],T=Object(n.useState)(!1),U=Object(s.a)(T,2),Y=(U[0],U[1]),q=[{id:1,photo:"https://st.kp.yandex.net/images/film_big/1188529.jpg",name:"\u0414\u043e\u0441\u0442\u0430\u0442\u044c \u043d\u043e\u0436\u0438 \u0414\u043e\u0441\u0442\u0430\u0442\u044c \u043d\u043e\u0436\u0438 \u0414\u043e\u0441\u0442\u0430\u0442\u044c \u043d\u043e\u0436\u0438 \u0414\u043e\u0441\u0442\u0430\u0442\u044c \u043d\u043e\u0436\u0438",year:2019},{id:2,photo:"https://st.kp.yandex.net/images/film_big/1207545.jpg",name:"\u041a\u0443\u0440\u044c\u0435\u0440",year:2019},{id:3,photo:"https://st.kp.yandex.net/images/film_big/835086.jpg",name:"Ford \u043f\u0440\u043e\u0442\u0438\u0432 Ferrari",year:2019},{id:4,photo:"https://st.kp.yandex.net/images/film_big/837737.jpg",name:"\u0421\u0438\u0440\u043e\u0442\u0441\u043a\u0438\u0439 \u0411\u0440\u0443\u043a\u043b\u0438\u043d",year:2019},{id:5,photo:"https://sun9-64.userapi.com/c204716/v204716471/1c563/J4xlZLC9Yeg.jpg",name:"\u0412\u0430\u043d\u0438\u043b\u044c\u043d\u043e\u0435 \u043d\u0435\u0431\u043e",year:2001},{id:6,photo:"https://sun9-20.userapi.com/c204724/v204724471/1cf8a/-ubqon4oJF0.jpg",name:"\u0418\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0440\u0430\u0437\u0443\u043c",year:2001}],w=1,B=q.length+1,G=q.length;function X(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function Z(){console.log(" targetList1 lastItem:",D);var e=X(w,B),t=q[e-1];if(y(v+1),O.length<=0){void 0===O.find((function(e){return e.id===t.id}))&&O.length!==G?R(t):(Q(),N(!0))}else{var a=O.find((function(e){return e.id===t.id}));O.length!==G?void 0===a?R(t):Q():N(!0)}}function Q(){console.log(" targetList1 lastItem:",D);var e=X(w,B),t=q[e-1],a=O.find((function(e){return e.id===t.id}));O.length!==G?void 0===a?R(t):Z():(N(!0),console.log(" 0000 maxDataLength:",x))}function R(e){O.push(e),S(O);var t=O[O.length-1];H(t);var a=JSON.stringify(O);console.log(" setId dataFirst:",F),l.a.sendPromise("VKWebAppStorageSet",{key:"dataStorage",value:a}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}Object(n.useEffect)((function(){l.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var o=document.createAttribute("scheme");o.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(o)}})),l.a.sendPromise("VKWebAppGetClientVersion").then((function(e){console.log("\u0412\u0415\u0420\u0421\u0418\u042f \u041f\u0420\u0418\u041b\u041e\u0416\u0415\u041d\u0418\u042f:",e),"iOS"===e.platform&&W("iOS")})).catch((function(e){console.log(e)})),l.a.sendPromise("VKWebAppStorageGet",{keys:["dataStorage"]}).then((function(e){var t=e.keys[0].value.replace(/&quot;/gi,'"'),a=JSON.parse(t);S(a)})).catch((function(e){console.log(e)}))}),[]);var $=function(e){c(e.currentTarget.dataset.to)};return o.a.createElement(u.a,{activePanel:a},o.a.createElement(K,{id:"main",fetchedUser:m,dataStorage:O,activeTab:g,tabHome:function(){h("home")},tabFavorites:function(){h("favorites")},targetList1:Z,count:v,maxDataLength:x,lastItem:D,pay:function(){l.a.sendPromise("VKWebAppOpenPayForm",{app_id:7254171,action:"pay-to-group",params:{amount:1,group_id:189804850}}).then((function(e){(e.status||e.result.status)&&(Y(!0),console.log("\u041e\u041f\u041b\u0410\u0422\u0410 \u041f\u0420\u041e\u0428\u041b\u0410 1"),Z(),console.log(e.status))})).catch((function(e){console.log(e)}))},getPlatform:L}),o.a.createElement(V,{id:"home",fetchedUser:m,go:$}),o.a.createElement(J,{id:"favorites",go:$}))};l.a.send("VKWebAppInit"),r.a.render(o.a.createElement(W,null),document.getElementById("root"))},71:function(e,t,a){}},[[111,1,2]]]);
//# sourceMappingURL=main.d6880614.chunk.js.map