{"version":3,"sources":["panels/Home.js","panels/Favorites.js","panels/Main.js","helpers/requestMethod.js","App.js","index.js"],"names":["Home","name","photo","year","idItem","top","className","id","description","before","type","src","size","Favorites","storyFavorites","shareIcon1","share","onClick","fill","asideContent","Main","dataStorage","activeTab","go","tabHome","tabFavorites","maxDataLength","count","lastItem","pay","getPlatform","story","addGroup","targetList1","onChangeSlider","checkBoxOnClick","handleChange","isAnyYear","genre","searchError","tabAddFilms","ref_sourceName","refName","networkStatus","updateTheme","fetchedUser","updateConnection","renderFavorites","filter","Boolean","map","item","rating","key","noShadow","vertical","selected","align","length","step","min","max","value","Number","onChange","bottom","title","level","stretched","href","target","debug","requestMethod","method","App","useState","activePanel","setActivePanel","setUser","setActiveTab","setDataStorage","setGetPlatform","popout","setPaymentStatus","setYear","setIsAnyYear","setGenre","setSearchError","setNetworkStatus","setLastItem","navigator","window","onLine","a","async","currentFilmsIDs","JSON","stringify","_","axios","get","film","data","status","setId","message","randomFirstId","push","stringId","connect","sendPromise","then","res","console","log","catch","error","useEffect","subscribe","detail","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","user","fetchData","platform","newStr","keys","replace","psj","parse","e","currentTarget","dataset","to","preventDefault","targetId","findTargetId","find","findTargetIdPhoto","send","result","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.57ed358d.chunk.js","sourcesContent":["import React from 'react';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\nimport Icon24ShareOutline from '@vkontakte/icons/dist/24/share_outline';\n// import styles from \"./App.module.sass\";\nimport styles from \"../styles/custom-styles.sass\";\nimport Fake from 'react-reveal';\n\nconst Home = ({name, photo, year, idItem}) => {\n\n\n    return (\n        <Fake top>\n            <Div className='cardHome bg-color'>\n                <Cell\n                    className='myItem'\n                    id={idItem}\n                    description={year}\n                    before={<Avatar\n                        type=\"image\"\n                        src={photo}\n                        size={100}\n                    />}\n                >\n                    {name}\n                </Cell>\n            </Div>\n        </Fake>\n    )\n};\n\n\nexport default Home;\n\n\n\n\n","import React from 'react';\r\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport Icon24ShareOutline from '@vkontakte/icons/dist/24/share_outline';\r\nimport Icon24Advertising from '@vkontakte/icons/dist/24/advertising';\r\n// import styles from \"./App.module.sass\";\r\nimport styles from \"../styles/custom-styles.sass\";\r\nimport Fake from 'react-reveal';\r\n\r\nconst Favorites = ({name, photo, year, idItem, storyFavorites, share}) => {\r\n\r\n    const shareIcon1 =\r\n        <Div id={idItem} onClick={storyFavorites}>\r\n            <Icon24ShareOutline  fill=\"var(--accent)\"/>\r\n        </Div>;\r\n    // const shareIcon2 =\r\n    //     <Div id={idItem} onClick={share}>\r\n    //         <Icon24Advertising  fill=\"var(--accent)\"/>\r\n    //     </Div>;\r\n\r\n    return (\r\n        <Fake top>\r\n            <Div className='card bg-color'>\r\n                <Cell\r\n                    className='myItem'\r\n                    id={idItem}\r\n                    description={year}\r\n                    before={<Avatar\r\n                        type=\"image\"\r\n                        src={photo}\r\n                        size={100}\r\n                    />}\r\n                    asideContent={shareIcon1}\r\n                    // indicator={shareIcon2}\r\n                >\r\n                    {name}\r\n                </Cell>\r\n            </Div>\r\n        </Fake>\r\n    )\r\n};\r\n\r\n\r\nexport default Favorites;\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Button from '@vkontakte/vkui/dist/components/Button/Button';\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport List from '@vkontakte/vkui/dist/components/List/List';\nimport FixedLayout from '@vkontakte/vkui/dist/components/FixedLayout/FixedLayout';\nimport Tabs from '@vkontakte/vkui/dist/components/Tabs/Tabs';\nimport TabsItem from '@vkontakte/vkui/dist/components/TabsItem/TabsItem';\nimport HorizontalScroll from '@vkontakte/vkui/dist/components/HorizontalScroll/HorizontalScroll';\nimport Slider from \"@vkontakte/vkui/dist/components/Slider/Slider\";\nimport Link from \"@vkontakte/vkui/dist/components/Link/Link\";\nimport Home from './Home';\nimport Favorites from './Favorites';\nimport {useNavigatorOnline} from '@oieduardorabelo/use-navigator-online';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport FormLayout from '@vkontakte/vkui/dist/components/FormLayout/FormLayout';\nimport Checkbox from '@vkontakte/vkui/dist/components/Checkbox/Checkbox';\nimport Cell from '@vkontakte/vkui/dist/components/Cell/Cell';\nimport Select from '@vkontakte/vkui/dist/components/Select/Select';\nimport CellButton from '@vkontakte/vkui/dist/components/CellButton/CellButton';\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\n\n\nimport FormLayoutGroup from '@vkontakte/vkui/dist/components/FormLayoutGroup/FormLayoutGroup';\n\n\n// import styles from \"../styles/App.module.sass\";\nimport styles from \"../styles/custom-styles.sass\";\n\nconst Main = ({\n                  id, dataStorage, go, activeTab, tabHome, tabFavorites, count, maxDataLength, lastItem, pay,\n                  getPlatform, story, addGroup, targetList1, storyFavorites, onChangeSlider, year,\n                  checkBoxOnClick, isAnyYear, genre, handleChange, searchError, tabAddFilms, ref_sourceName,\n                  refName, updateTheme, fetchedUser, share, networkStatus, updateConnection\n              }) => {\n    dataStorage = dataStorage.filter(Boolean);\n\n    const renderFavorites = dataStorage.map(item => {\n        const year = `${item.year}, IMDb ${item.rating}`;\n        return (\n            <Favorites\n                key={'itemFavorites' + item.id}\n                idItem={item.id}\n                photo={item.photo}\n                name={item.name}\n                year={year}\n                storyFavorites={storyFavorites}\n                // share={share}\n            />\n        );\n    });\n\n    return (\n\n        <Panel id={id}>\n            <PanelHeader\n                noShadow={true}\n            >\n                Случайное кино\n            </PanelHeader>\n            <FixedLayout vertical=\"top\">\n                <Tabs className=\"TabsDefaultUser\">\n                    {/*<HorizontalScroll>*/}\n                    <TabsItem\n                        onClick={tabHome}\n                        selected={activeTab === 'home'}\n                        className=\"tabUser\"\n                    >\n                        Главная\n                    </TabsItem>\n                    <TabsItem\n                        onClick={tabFavorites}\n                        selected={activeTab === 'favorites'}\n                        className=\"tabUser\"\n                    >\n                        Избранное\n                    </TabsItem>\n                    <TabsItem\n                        onClick={tabAddFilms}\n                        selected={activeTab === 'addFilms'}\n                        className=\"tabUser\"\n                    >\n                        Добавить\n                    </TabsItem>\n\n                    {/*</HorizontalScroll>*/}\n                </Tabs>\n            </FixedLayout>\n\n\n            {networkStatus\n                ?\n                <Div className=\"divSpinner\">\n                    <Div className=\"navigatorDiv\">\n                        Отсутствует интернет - соединение!\n                    </Div>\n                    <CellButton\n                        className=\"navigator\"\n                        onClick={updateConnection}\n                        align={\"center\"}\n                    >Повторить\n                    </CellButton>\n                </Div>\n                :\n                <>\n                    {/*{getPlatform === \"ios\"*/}\n                    {/*?*/}\n                    {/*<Div className=\"GroupIos\">*/}\n                    {/*Данный сервис не работает на устройствах с системой iOS*/}\n                    {/*</Div>*/}\n                    {/*:*/}\n                    {/*<>*/}\n\n                    {activeTab === 'home' && maxDataLength === false\n                        ?\n                        <>\n                            {getPlatform === \"ios\"\n                                ?\n                                <Div className=\"GroupIos\">\n                                    Данный сервис не работает на устройствах с системой iOS\n                                </Div>\n                                :\n                                <>\n                                    <Div>\n                                        {lastItem.length !== ''\n                                            ?\n                                            <Home\n                                                key={'itemHome' + lastItem.id}\n                                                idItem={lastItem.id}\n                                                photo={lastItem.photo}\n                                                name={lastItem.name}\n                                                year={lastItem.year}\n                                            />\n                                            :\n                                            ''\n                                        }\n\n                                        <Div className=\"SliderDiv\">\n                                            <FormLayout>\n                                                <Slider\n                                                    step={1}\n                                                    min={2000}\n                                                    max={2019}\n                                                    value={Number(year)}\n                                                    onChange={onChangeSlider}\n                                                    top={\"Выберите год\"}\n                                                    bottom={`${year}`}\n                                                />\n                                            </FormLayout>\n\n                                            <Checkbox\n                                                onClick={checkBoxOnClick}\n                                            >\n                                                Любой\n                                            </Checkbox>\n                                        </Div>\n\n                                        <Group title=\"Выберите жанр\">\n                                        </Group>\n\n                                        <Select onChange={handleChange}>\n                                            <option value=\"Любой\">Любой</option>\n                                            <option value=\"боевик\">боевик</option>\n                                            <option value=\"история\">история</option>\n                                            <option value=\"драма\">драма</option>\n                                            <option value=\"приключения\">приключения</option>\n                                            <option value=\"криминал\">криминал</option>\n                                            <option value=\"мелодрама\">мелодрама</option>\n                                        </Select>\n\n                                        {searchError\n                                            ?\n                                            <Group>\n                                                <CellButton level=\"danger\">\n                                                    Вы получили все фильмы с текущими настройками\n                                                    фильтра\n                                                </CellButton>\n                                            </Group>\n                                            :\n                                            \"\"\n                                        }\n\n                                        <Group title=\"Найти случайный фильм за 1 руб\">\n                                        </Group>\n                                        <>\n                                            <Button\n                                                level=\"commerce\"\n                                                onClick={pay}\n                                                size=\"xl\"\n                                                stretched\n                                            >\n                                                Найти\n                                            </Button>\n                                            <Button\n                                                className=\"buttonAddGroup\"\n                                                level=\"secondary\"\n                                                onClick={addGroup}\n                                                size=\"xl\"\n                                                stretched\n                                            >\n                                                Подписаться на нашу группу\n                                            </Button>\n                                            <Button\n                                                className=\"buttonStory\"\n                                                level=\"primary\"\n                                                onClick={story}\n                                                size=\"xl\"\n                                                stretched\n                                            >\n                                                Поделиться в истории\n                                            </Button>\n                                        </>\n                                    </Div>\n                                </>\n                            }\n                        </>\n                        :\n                        <Div>\n                            Вы получили все фильмы !\n                        </Div>\n                    }\n\n                    {activeTab === 'home' && maxDataLength === true\n                        ?\n                        <Div>\n                            Вы получили все фильмы !\n                        </Div>\n                        :\n                        ''\n                    }\n\n                    {activeTab === 'favorites'\n                        ?\n                        <>\n                            <Div>\n                                {renderFavorites}\n                            </Div>\n                        </>\n                        :\n                        ''\n                    }\n\n                    <>\n                        {activeTab === 'addFilms'\n                            ?\n                            <Div>\n                                <Div>\n                                    <Link\n                                        href={`https://vk.me/public190534237?ref=${refName}&ref_source=${ref_sourceName}`}\n                                        target=\"_blank\">\n                                        {/*<Link href=\"https://vk.me/public190534237\" target=\"_blank\">*/}\n                                        <Button\n                                            level=\"commerce\"\n                                            size=\"xl\"\n                                            stretched\n                                        >\n                                            Добавить\n                                        </Button>\n                                    </Link>\n                                </Div>\n                            </Div>\n                            :\n                            ''\n                        }\n                    </>\n                </>\n            }\n        </Panel>\n    );\n};\n\n\nexport default Main;\n\n\n","const debug = false;\r\n\r\nfunction requestMethod(method) {\r\n    const url = debug\r\n        ? 'http://localhost:8181/'\r\n        : 'https://random-cinema.tk/api/'\r\n    ;\r\n    return url + method;\r\n}\r\n\r\nexport default requestMethod;","import React, {useEffect, useState} from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Main from './panels/Main';\nimport Home from './panels/Home';\nimport Favorites from './panels/Favorites';\nimport ConfigProvider from '@vkontakte/vkui/dist/components/ConfigProvider/ConfigProvider';\n// import data from './db/db';\nimport random from 'lodash/random';\nimport cl from 'lodash/collection';\nimport requestMethod from './helpers/requestMethod';\nimport axios from 'axios';\n\n\nconst App = () => {\n        const [activePanel, setActivePanel] = useState('main');\n        const [fetchedUser, setUser] = useState(null);\n        const [activeTab, setActiveTab] = useState('home');\n        const [count, setCount] = useState(0);\n        const [dataStorage, setDataStorage] = useState([]);\n        const [maxDataLength, setMaxDataLength] = useState(false);\n        const [dataFirst, setDataFirst] = useState([]);\n        const [getPlatform, setGetPlatform] = useState(\"\");\n        const [popout, setPopout] = useState();\n        const [statusConnections, setStatusConnections] = useState('online');\n        const [paymentStatus, setPaymentStatus] = useState(false);\n        const [year, setYear] = useState(2000);\n        const [isAnyYear, setIsAnyYear] = useState(true);\n        const [checked, setChecked] = useState(false);\n        const [genre, setGenre] = useState(\"Любой\");\n        const [searchError, setSearchError] = useState(false);\n        const [refName, setRef] = useState(\"Название\");\n        const [ref_sourceName, setRef_source] = useState(\"Жанр\");\n        // const [scheme, SetScheme] = useState(\"bright_light\");\n        const [matchesFilter, setMatchesFilter] = useState([]);\n        const [networkStatus, setNetworkStatus] = useState(false);\n        const [lastItem, setLastItem] = useState(\n            {\n                id: 0,\n                photo: \"https://sun9-60.userapi.com/c855424/v855424816/1b98c7/NOZvWdKJbOY.jpg\",\n                name: \"Жми  - найти!\"\n            });\n\n        // console.log(\"useEffect navigator\", navigator);\n\n        const navigator = window.navigator.onLine;\n\n        const updateConnection = () => {\n            const navigator = window.navigator.onLine;\n            if (!navigator) {\n                setNetworkStatus(true);\n            } else {\n                setNetworkStatus(false);\n            }\n        };\n\n        useEffect(() => {\n\n            if (!navigator) {\n                setNetworkStatus(true);\n                console.log(\"checkNetworkStatus\", navigator);\n            } else {\n                setNetworkStatus(false);\n                console.log(\"checkNetworkStatus\", navigator);\n            }\n        });\n\n        useEffect(() => {\n            connect.subscribe(({detail: {type, data}}) => {\n                if (type === 'VKWebAppUpdateConfig') {\n                    const schemeAttribute = document.createAttribute('scheme');\n                    schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n                    document.body.attributes.setNamedItem(schemeAttribute);\n                }\n            });\n\n            async function fetchData() {\n                const user = await connect.sendPromise('VKWebAppGetUserInfo');\n                setUser(user);\n            }\n\n            fetchData();\n\n        }, []);\n\n        useEffect(() => {\n            // refreshStorage();\n            connect.sendPromise('VKWebAppGetClientVersion',\n            ).then(res => {\n                console.log(\"ВЕРСИЯ ПРИЛОЖЕНИЯ:\", res);\n                if (res.platform === \"ios\") {\n                    setGetPlatform(\"ios\");\n                }\n            }).catch(error => {\n                console.log(error);\n            });\n\n            connect.sendPromise('VKWebAppStorageGet',\n                {\n                    'keys': ['dataStorage']\n                })\n                .then((res) => {\n                    const re = /&quot;/gi;\n                    let str = res.keys[0].value;\n                    const newStr = str.replace(re, '\"');\n                    const psj = JSON.parse(newStr);\n                    setDataStorage(psj);\n                    console.log(\"dataStorage\", psj);\n\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n\n        }, []);\n\n        async function getAllFilms() {\n            const response = await (await fetch(\n                requestMethod('/getAllFilms')\n            )).json();\n\n            return response;\n        }\n\n        function getCurrentFilms() {\n            return dataStorage.filter(Boolean);\n        }\n\n        async function targetList1() {\n            const currentFilmsIDs = JSON.stringify(\n                getCurrentFilms().map(_ => _.id)\n            );\n            \n            const film = (await axios.get(\n                requestMethod(\n                    `getFilmByFilters?genre=${genre}&year=${year}&isAnyYear=${!isAnyYear}&currentFilmsIDs=${currentFilmsIDs}`\n                )\n            )).data;\n\n            if (film.status !== 'success') {\n                setSearchError(true);\n            } else {\n                setId(film.message);\n                setSearchError(false);\n            }\n        }\n\n        function storyFavorites(e) {\n            console.log(\"storyFavorites:\");\n            e.preventDefault();\n            let url = \"https://vk.com/app7254171\";\n            const targetId = +e.currentTarget.id;\n            // const targetPhoto = dataStorage[targetId].photo;\n            const findTargetId = dataStorage.find(\n                item => item.id === targetId\n            );\n            const findTargetIdPhoto = findTargetId.photo;\n\n            console.log(\"targetId:\", targetId);\n            console.log(\"findTargetId:\", findTargetId);\n            console.log(\"findTargetIdPhoto:\", findTargetIdPhoto);\n\n            connect.sendPromise('VKWebAppShowStoryBox', {\n                \"background_type\": \"image\",\n                \"url\": findTargetIdPhoto,\n                \"attachment\": {\n                    \"text\": \"go_to\",\n                    \"type\": \"url\",\n                    \"url\": url\n                }\n            }).then(res => {\n                console.log(\"story res:\", res);\n            }).catch(error => {\n                console.log(\"story error:\", error);\n            });\n        }\n\n        function story() {\n            let url = \"https://vk.com/app7254171\";\n            connect.sendPromise('VKWebAppShowStoryBox', {\n                \"background_type\": \"image\",\n                \"url\": lastItem.photo,\n                \"attachment\": {\n                    \"text\": \"go_to\",\n                    \"type\": \"url\",\n                    \"url\": url\n                }\n            }).then(res => {\n                console.log(\"story res:\", res); // работает\n            }).catch(error => {\n                console.log(\"story error:\", error);\n            });\n        }\n\n        function addGroup() {\n            connect.send(\"VKWebAppJoinGroup\", {\"group_id\": 190534237});\n        }\n\n        // function share(e) {\n        //     // TODO: ДОБАВЛЕНИЕ РЕПОСТА НА СТЕНУ ПОЛЬЗОВАТЕЛЯ\n        //     e.preventDefault();\n        //     let url = \"https://vk.com/app7254171\";\n        //     const targetId = +e.currentTarget.id;\n        //     const findTargetId = dataStorage.find(\n        //         item => item.id === targetId\n        //     );\n        //     const findTargetIdPhoto = findTargetId.photo;\n        //     console.log(`${requestMethod('getVKPhotoById')}?id=${targetId}`);\n        //     fetch(\n        //         `${requestMethod('getVKPhotoById')}?id=${targetId}`\n        //     ).then((response) => {\n        //         return response.json()\n        //     }).then((json) => {\n        //         console.log('responseJSON:', json);\n\n        //         if (json.status !== 'success') {\n        //             return;\n        //         }\n\n        //         connect.send(\"VKWebAppShowWallPostBox\", {\n        //             \"message\": `Получи случайный фильм и поделись им с друзьями! Приложение - ${url}`,\n        //             \"attachments\": json.message\n        //         });\n        //     })\n        // }\n\n\n        function pay() {\n            console.log('Вызвана функция pay');\n            \n            connect.sendPromise('VKWebAppOpenPayForm', {\n                \"app_id\": 7254171,\n                \"action\": \"pay-to-group\",\n                \"params\": {\n                    \"amount\": 1,\n                    \"group_id\": 190534237    // моя 190534237\n                }\n            }).then(async (res) => {\n                if (res.status || res.result.status) {\n                    try {\n                        const response = (await axios.get(\n                            requestMethod(\n                                `checkTransaction?userId=${fetchedUser.id}`\n                            )\n                        )).data;\n                        \n                        if (response.status === 'success') {\n                            setPaymentStatus(true);\n                            console.log('ОПЛАТА ПРОШЛА 1');\n                            targetList1();\n                        } else {\n                            /**\n                             * Оплата не прошла\n                             * или ее не было\n                             */\n                        }\n                    } catch(error) {\n                        // Браузерная ошибка\n                    }\n                }\n            }).catch(error => {\n                console.log(error);\n            });\n        }\n\n\n        function setId(randomFirstId) {\n            dataStorage.push(randomFirstId);\n            setDataStorage(dataStorage);\n            const a = dataStorage[dataStorage.length - 1];\n            setLastItem(a);\n\n            const stringId = JSON.stringify(dataStorage);\n            // console.log(' setId dataFirst:', dataFirst);\n\n            connect.sendPromise(\"VKWebAppStorageSet\",\n                {\n                    \"key\": \"dataStorage\",\n                    \"value\": stringId\n                })\n                .then((res) => {\n                    console.log(res);\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n        }\n\n        function onChangeSlider(year) {\n            setYear(year);\n            console.log(\"setYear :\", year);\n        }\n\n        function handleChange(e) {\n            setGenre(e.target.value);\n            console.log(\"setGenre :\", genre);\n        }\n\n        function checkBoxOnClick() {\n            setIsAnyYear(!isAnyYear);\n\n            console.log(\"isAnyYear:\", isAnyYear)\n        }\n\n\n        function refreshStorage() {\n            connect.sendPromise(\"VKWebAppStorageSet\",\n                {\n                    \"key\": \"dataStorage\",\n                    \"value\": \"\"\n                })\n                .then((res) => {\n                    console.log(res);\n                })\n                .catch((error) => {\n                    console.log(error);\n                });\n        }\n\n        function tabHome() {\n            setActiveTab('home');\n        }\n\n        function tabFavorites() {\n            setActiveTab('favorites');\n        }\n\n        function tabAddFilms() {\n            setActiveTab('addFilms');\n        }\n\n        const go = e => {\n            setActivePanel(e.currentTarget.dataset.to);\n        };\n\n        return (\n            <View activePanel={activePanel}\n                  popout={popout}>\n                <Main id='main'\n                      dataStorage={dataStorage}\n                      activeTab={activeTab}\n                      tabHome={tabHome}\n                      tabFavorites={tabFavorites}\n                      targetList1={targetList1}\n                      count={count}\n                      maxDataLength={maxDataLength}\n                      lastItem={lastItem}\n                      fetchedUser={fetchedUser}\n                      refName={refName}\n                      ref_sourceName={ref_sourceName}\n                      tabAddFilms={tabAddFilms}\n                      searchError={searchError}\n                      handleChange={handleChange}\n                      genre={genre}\n                      year={year}\n                      onChangeSlider={onChangeSlider}\n                      storyFavorites={storyFavorites}\n                      addGroup={addGroup}\n                      isAnyYear={isAnyYear}\n                      checkBoxOnClick={checkBoxOnClick}\n                      story={story}\n                      getPlatform={getPlatform}\n                      pay={pay}\n                      networkStatus={networkStatus}\n                      updateConnection={updateConnection}\n                    // share={share}\n                    // updateTheme={updateTheme}\n                />\n                <Home id='home'\n                      go={go}/>\n                <Favorites id='favorites'\n                           go={go}\n\n                />\n            </View>\n        );\n    }\n;\n\nexport default App;\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}