(this.webpackJsonprandomCinema=this.webpackJsonprandomCinema||[]).push([[0],{124:function(e,t,a){e.exports=a(238)},238:function(e,t,a){"use strict";a.r(t);a(125),a(151),a(153),a(154),a(156),a(157),a(158),a(159),a(160),a(161),a(162),a(163),a(165),a(166),a(167),a(168),a(169),a(170),a(171),a(172),a(173),a(174),a(176),a(177),a(178),a(179),a(180),a(181),a(182),a(183),a(184),a(185),a(186),a(187),a(188),a(189),a(190),a(191),a(192),a(193);var n=a(0),o=a.n(n),r=a(73),c=a.n(r),l=a(16),s=a.n(l),i=a(78),m=a.n(i),u=a(13),p=a(76),d=a.n(p),g=(a(202),a(114)),h=a.n(g),f=a(75),b=a.n(f),v=a(51),E=a.n(v),y=a(50),O=a.n(y),j=a(14),S=a.n(j),k=a(115),F=a.n(k),C=a(116),N=a.n(C),I=a(57),x=a.n(I),V=a(119),_=a.n(V),A=a(122),K=a.n(A),W=a(44),P=a.n(W),G=a(45),X=a.n(G),T=a(74),U=a.n(T),w=(a(71),a(56)),z=a.n(w),J=function(e){var t=e.name,a=e.photo,n=e.year,r=e.idItem;return o.a.createElement(z.a,{top:!0},o.a.createElement(S.a,{className:"cardHome bg-color"},o.a.createElement(P.a,{className:"myItem",id:r,description:n,before:o.a.createElement(X.a,{type:"image",src:a,size:100})},t)))},B=function(e){var t=e.name,a=e.photo,n=e.year,r=e.idItem,c=e.storyFavorites,l=o.a.createElement(S.a,{id:r,onClick:c},o.a.createElement(U.a,{fill:"var(--accent)"}));return o.a.createElement(z.a,{top:!0},o.a.createElement(S.a,{className:"card bg-color"},o.a.createElement(P.a,{className:"myItem",id:r,description:n,before:o.a.createElement(X.a,{type:"image",src:a,size:100}),asideContent:l},t)))},L=a(113),Z=a(117),D=a.n(Z),H=a(118),R=a.n(H),M=a(120),Q=a.n(M),q=a(121),Y=a.n(q),$=a(77),ee=a.n($),te=function(e){var t=e.id,a=e.dataStorage,n=(e.go,e.activeTab),r=e.tabHome,c=e.tabFavorites,l=(e.count,e.maxDataLength),s=e.lastItem,i=(e.pay,e.getPlatform),m=e.story,u=e.addGroup,p=e.targetList1,d=e.storyFavorites,g=e.onChangeSlider,f=e.sliderValue,v=e.checkBoxOnClick,y=(e.checkBox,e.selectValue,e.handleChange),j=e.searchError,k=e.tabAddFilms,C=e.ref_sourceName,I=e.refName,V=(e.updateTheme,e.fetchedUser),A=Object(L.a)(),W=(A.isOnline,A.isOffline),G=a.map((function(e){return o.a.createElement(B,{key:"itemFavorites"+e.id,idItem:e.id,photo:e.photo,name:e.name,year:e.year,storyFavorites:d})}));return o.a.createElement(h.a,{id:t},o.a.createElement(b.a,{noShadow:!0},"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435 \u043a\u0438\u043d\u043e"),o.a.createElement(F.a,{vertical:"top"},o.a.createElement(N.a,{className:"TabsDefaultUser"},o.a.createElement(x.a,{onClick:r,selected:"home"===n,className:"tabUser"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),o.a.createElement(x.a,{onClick:c,selected:"favorites"===n,className:"tabUser"},"\u041c\u043e\u0438 \u0444\u0438\u043b\u044c\u043c\u044b"),o.a.createElement(x.a,{onClick:k,selected:"addFilms"===n,className:"tabUser"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c"))),W?o.a.createElement(S.a,{className:"divSpinner"},o.a.createElement(S.a,null,"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442 - \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435!"),o.a.createElement(D.a,{size:"large"})):o.a.createElement(o.a.Fragment,null,"ios"===i?o.a.createElement(S.a,{className:"GroupIos"},"\u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 iOS"):o.a.createElement(o.a.Fragment,null,"home"===n&&!1===l?o.a.createElement(S.a,null,""!==s.length?o.a.createElement(J,{key:"itemHome"+s.id,idItem:s.id,photo:s.photo,name:s.name,year:s.year}):"",o.a.createElement(S.a,{className:"SliderDiv"},o.a.createElement(R.a,null,o.a.createElement(_.a,{step:1,min:2e3,max:2019,value:Number(f),onChange:g,top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0434",bottom:"".concat(f)})),o.a.createElement(Q.a,{onClick:v},"\u041b\u044e\u0431\u043e\u0439")),o.a.createElement(O.a,{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440"}),o.a.createElement(Y.a,{onChange:y},o.a.createElement("option",{value:"\u041b\u044e\u0431\u043e\u0439"},"\u041b\u044e\u0431\u043e\u0439"),o.a.createElement("option",{value:"\u0431\u043e\u0435\u0432\u0438\u043a"},"\u0431\u043e\u0435\u0432\u0438\u043a"),o.a.createElement("option",{value:"\u0438\u0441\u0442\u043e\u0440\u0438\u044f"},"\u0438\u0441\u0442\u043e\u0440\u0438\u044f"),o.a.createElement("option",{value:"\u0434\u0440\u0430\u043c\u0430"},"\u0434\u0440\u0430\u043c\u0430"),o.a.createElement("option",{value:"\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"},"\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"),o.a.createElement("option",{value:"\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"},"\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"),o.a.createElement("option",{value:"\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430"},"\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430")),j?o.a.createElement(O.a,null,o.a.createElement(ee.a,{level:"danger"},"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u044b \u0441 \u0442\u0435\u043a\u0443\u0449\u0438\u043c\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0430")):"",o.a.createElement(O.a,{title:"\u041d\u0430\u0439\u0442\u0438 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c \u0437\u0430 1 \u0440\u0443\u0431"}),o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{level:"commerce",onClick:p,size:"xl",stretched:!0},"\u041d\u0430\u0439\u0442\u0438"),o.a.createElement(E.a,{className:"buttonAddGroup",level:"secondary",onClick:u,size:"xl",stretched:!0},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043d\u0430\u0448\u0443 \u0433\u0440\u0443\u043f\u043f\u0443"),o.a.createElement(E.a,{className:"buttonStory",level:"primary",onClick:m,size:"xl",stretched:!0},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"))):o.a.createElement(S.a,null,"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u044b !"),"home"===n&&!0===l?o.a.createElement(S.a,null,"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u044b !"):"","favorites"===n?o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,null,V&&o.a.createElement(O.a,{title:"\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"},o.a.createElement(P.a,{className:"cellUsers",before:V.photo_200?o.a.createElement(X.a,{src:V.photo_200}):null,description:V.city&&V.city.title?V.city.title:""},"".concat(V.first_name," ").concat(V.last_name)))),o.a.createElement(S.a,null,G)):""),"ios"===i?o.a.createElement(S.a,{className:"GroupIos"},"\u0414\u0430\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430\u0445 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 iOS"):o.a.createElement(o.a.Fragment,null,"addFilms"===n?o.a.createElement(S.a,null,o.a.createElement(S.a,null,o.a.createElement(K.a,{href:"https://vk.me/public190534237?ref=".concat(I,"&ref_source=").concat(C),target:"_blank"},o.a.createElement(E.a,{level:"commerce",size:"xl",stretched:!0},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))):"")))},ae=a(123),ne=a.n(ae),oe=function(){var e=Object(n.useState)("main"),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),l=Object(u.a)(c,2),i=l[0],p=l[1],g=Object(n.useState)("home"),h=Object(u.a)(g,2),f=h[0],b=h[1],v=Object(n.useState)(0),E=Object(u.a)(v,2),y=E[0],O=(E[1],Object(n.useState)([])),j=Object(u.a)(O,2),S=j[0],k=j[1],F=Object(n.useState)(!1),C=Object(u.a)(F,2),N=C[0],I=(C[1],Object(n.useState)([])),x=Object(u.a)(I,2),V=(x[0],x[1],Object(n.useState)("")),_=Object(u.a)(V,2),A=_[0],K=_[1],W=Object(n.useState)(),P=Object(u.a)(W,2),G=P[0],X=(P[1],Object(n.useState)("online")),T=Object(u.a)(X,2),U=(T[0],T[1],Object(n.useState)(!1)),w=Object(u.a)(U,2),z=(w[0],w[1]),L=Object(n.useState)(2e3),Z=Object(u.a)(L,2),D=Z[0],H=Z[1],R=Object(n.useState)(!0),M=Object(u.a)(R,2),Q=M[0],q=M[1],Y=Object(n.useState)(!1),$=Object(u.a)(Y,2),ee=($[0],$[1],Object(n.useState)("\u041b\u044e\u0431\u043e\u0439")),ae=Object(u.a)(ee,2),oe=ae[0],re=ae[1],ce=Object(n.useState)(!1),le=Object(u.a)(ce,2),se=le[0],ie=le[1],me=Object(n.useState)("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),ue=Object(u.a)(me,2),pe=ue[0],de=(ue[1],Object(n.useState)("\u0416\u0430\u043d\u0440")),ge=Object(u.a)(de,2),he=ge[0],fe=(ge[1],Object(n.useState)([])),be=Object(u.a)(fe,2),ve=be[0],Ee=be[1],ye=Object(n.useState)({id:0,photo:"https://sun9-60.userapi.com/c855424/v855424816/1b98c7/NOZvWdKJbOY.jpg",name:"\u0416\u043c\u0438  - \u043d\u0430\u0439\u0442\u0438!"}),Oe=Object(u.a)(ye,2),je=Oe[0],Se=Oe[1],ke=[{id:1,photo:"https://sun9-45.userapi.com/c858424/v858424367/125354/ZKnOXzfjdjM.jpg",name:"\u0413\u043b\u0430\u0434\u0438\u0430\u0442\u043e\u0440",year:2e3,rating:8.5,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u0438\u0441\u0442\u043e\u0440\u0438\u044f","\u0434\u0440\u0430\u043c\u0430","\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"],country:["\u0421\u0428\u0410","\u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0438\u044f","\u041c\u0430\u043b\u044c\u0442\u0430","\u041c\u0430\u0440\u043e\u043a\u043a\u043e"]},{id:2,photo:"https://sun9-39.userapi.com/c858424/v858424367/12535d/pda_FO1zfd8.jpg",name:"\u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u043a\u0443\u0448",year:2e3,rating:8.3,genre:["\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b","\u043a\u043e\u043c\u0435\u0434\u0438\u044f","\u0431\u043e\u0435\u0432\u0438\u043a"],country:["\u0421\u0428\u0410","\u0412\u0435\u043b\u0438\u043a\u043e\u0431\u0440\u0438\u0442\u0430\u043d\u0438\u044f"]},{id:3,photo:"https://sun9-40.userapi.com/c858424/v858424367/125366/oy3WpXfk-Lw.jpg",name:"\u0418\u0437\u0433\u043e\u0439",year:2001,rating:7.8,genre:["\u0434\u0440\u0430\u043c\u0430","\u043c\u0435\u043b\u043e\u0434\u0440\u0430\u043c\u0430","\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"],country:["\u0421\u0428\u0410"]},{id:4,photo:"https://sun9-43.userapi.com/c858424/v858424367/125377/P5Im2WTg0QQ.jpg",name:"\u0420\u0435\u043a\u0432\u0438\u0435\u043c \u043f\u043e \u043c\u0435\u0447\u0442\u0435",year:2001,rating:8.3,genre:["\u0434\u0440\u0430\u043c\u0430"],country:["\u0421\u0428\u0410"]},{id:5,photo:"https://sun9-47.userapi.com/c858424/v858424367/12537f/XFGFIOmLyRc.jpg",name:"\u0411\u0440\u0430\u0442 2",year:2002,rating:7.8,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0420\u043e\u0441\u0441\u0438\u044f","\u0421\u0428\u0410"]},{id:6,photo:"https://sun9-9.userapi.com/c858424/v858424367/12538e/KOZZrCJ8XXk.jpg",name:"\u041f\u043e\u043c\u043d\u0438",year:2002,rating:8.4,genre:["\u0442\u0440\u0438\u043b\u043b\u0435\u0440","\u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432","\u0434\u0440\u0430\u043c\u0430","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0421\u0428\u0410"]},{id:7,photo:"https://sun9-47.userapi.com/c858424/v858424367/12537f/XFGFIOmLyRc.jpg",name:"\u0411\u0440\u0430\u0442 2",year:2005,rating:7.8,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0420\u043e\u0441\u0441\u0438\u044f","\u0421\u0428\u0410"]},{id:8,photo:"https://sun9-9.userapi.com/c858424/v858424367/12538e/KOZZrCJ8XXk.jpg",name:"\u042f \u043b\u0435\u0433\u0435\u043d\u0434\u0430",year:2005,rating:8.4,genre:["\u0442\u0440\u0438\u043b\u043b\u0435\u0440","\u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432","\u0434\u0440\u0430\u043c\u0430","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0421\u0428\u0410"]},{id:9,photo:"https://sun9-47.userapi.com/c858424/v858424367/12537f/XFGFIOmLyRc.jpg",name:"\u041e\u0441\u0442\u0430\u0442\u044c\u0441\u044f \u0432 \u0436\u0438\u0432\u044b\u0445",year:2008,rating:7.8,genre:["\u0431\u043e\u0435\u0432\u0438\u043a","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0420\u043e\u0441\u0441\u0438\u044f","\u0421\u0428\u0410"]},{id:10,photo:"https://sun9-9.userapi.com/c858424/v858424367/12538e/KOZZrCJ8XXk.jpg",name:"1 + 1",year:2008,rating:8.4,genre:["\u0442\u0440\u0438\u043b\u043b\u0435\u0440","\u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0432","\u0434\u0440\u0430\u043c\u0430","\u043a\u0440\u0438\u043c\u0438\u043d\u0430\u043b"],country:["\u0421\u0428\u0410"]}];ke.length,ke.length;function Fe(){var e=ve.length-1,t=ve[e];t.length;console.log("lastArrMatchesFilter:",t);var a=t.filter((function(e){return void 0!==e}));console.log("arrFilmsFilter:",a),console.log("dataStorage:",S);for(var n=function(e){var t=a[e];if(void 0===S.find((function(e){return e.id===t.id})))return function(e){S.push(e),k(S);var t=S[S.length-1];Se(t);var a=JSON.stringify(S);s.a.sendPromise("VKWebAppStorageSet",{key:"dataStorage",value:a}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(t),ie(!1),console.log("for TRUE:",t),"break";ie(!0),console.log("for else:",t),console.log("for else searchError:",se)},o=0;o<a.length;o++){if("break"===n(o))break}}Object(n.useEffect)((function(){s.a.subscribe((function(e){var t=e.detail,a=t.type,n=t.data;if("VKWebAppUpdateConfig"===a){var o=document.createAttribute("scheme");o.value=n.scheme?n.scheme:"client_light",document.body.attributes.setNamedItem(o)}})),function(){var e;m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(s.a.sendPromise("VKWebAppGetUserInfo"));case 2:e=t.sent,p(e);case 4:case"end":return t.stop()}}))}()}),[]),Object(n.useEffect)((function(){s.a.sendPromise("VKWebAppGetClientVersion").then((function(e){console.log("\u0412\u0415\u0420\u0421\u0418\u042f \u041f\u0420\u0418\u041b\u041e\u0416\u0415\u041d\u0418\u042f:",e),"ios"===e.platform&&K("ios")})).catch((function(e){console.log(e)})),s.a.sendPromise("VKWebAppStorageGet",{keys:["dataStorage"]}).then((function(e){var t=e.keys[0].value.replace(/&quot;/gi,'"'),a=JSON.parse(t);k(a)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=ke.map((function(e){var t=e.genre.find((function(e){return e===oe}));return Q||"\u041b\u044e\u0431\u043e\u0439"!==oe?Q||void 0===t?Q&&D===e.year&&void 0!==t?(console.log("\u0416\u0410\u041d\u0420 2:",oe),e):Q&&D===e.year&&"\u041b\u044e\u0431\u043e\u0439"===oe?(console.log("\u0416\u0410\u041d\u0420 2:",oe),e):void 0:(console.log("\u0416\u0410\u041d\u0420 2:",oe),e):(console.log("\u0416\u0410\u041d\u0420 1:",oe),e)}));ve.push(e),Ee(ve),console.log("useEffect matchesFilter:",ve)}));var Ce=function(e){r(e.currentTarget.dataset.to)};return o.a.createElement(ne.a,{isWebView:!0},o.a.createElement(d.a,{activePanel:a,popout:G},o.a.createElement(te,{id:"main",dataStorage:S,activeTab:f,tabHome:function(){b("home")},tabFavorites:function(){b("favorites")},targetList1:Fe,count:y,maxDataLength:N,lastItem:je,fetchedUser:i,refName:pe,ref_sourceName:he,tabAddFilms:function(){b("addFilms")},searchError:se,handleChange:function(e){re(e.target.value),console.log("setSelectValue :",oe)},selectValue:oe,sliderValue:D,onChangeSlider:function(e){H(e),console.log("setSliderValue :",e)},storyFavorites:function(e){e.preventDefault();var t=+e.currentTarget.id,a=S.find((function(e){return e.id===t})),n=a.photo;console.log("targetId:",t),console.log("findTargetId:",a),console.log("findTargetIdPhoto:",n),s.a.sendPromise("VKWebAppShowStoryBox",{background_type:"image",url:n,attachment:{text:"go_to",type:"url",url:"https://vk.com/app7254171"}}).then((function(e){console.log("story res:",e)})).catch((function(e){console.log("story error:",e)}))},addGroup:function(){s.a.send("VKWebAppJoinGroup",{group_id:190534237})},checkBox:Q,checkBoxOnClick:function(){q(!Q),console.log("checkBox:",Q)},story:function(){s.a.sendPromise("VKWebAppShowStoryBox",{background_type:"image",url:je.photo,attachment:{text:"go_to",type:"url",url:"https://vk.com/app7254171"}}).then((function(e){console.log("story res:",e)})).catch((function(e){console.log("story error:",e)}))},getPlatform:A,pay:function(){s.a.sendPromise("VKWebAppOpenPayForm",{app_id:7254171,action:"pay-to-group",params:{amount:1,group_id:190534237}}).then((function(e){(e.status||e.result.status)&&(z(!0),console.log("\u041e\u041f\u041b\u0410\u0422\u0410 \u041f\u0420\u041e\u0428\u041b\u0410 1"),Fe(),console.log(e.status))})).catch((function(e){console.log(e)}))}}),o.a.createElement(J,{id:"home",go:Ce}),o.a.createElement(B,{id:"favorites",go:Ce})))};s.a.send("VKWebAppInit"),c.a.render(o.a.createElement(oe,null),document.getElementById("root"))},71:function(e,t,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.207e11c5.chunk.js.map